This work explores the spectra of quantum graphs where the Schr\"odinger operator on the edges is equipped with a potential. The scattering approach, which was originally introduced for the potential free case, is extended to this case and used to derive a secular function whose zeros coincide with the eigenvalue spectrum. Exact trace formulas for both smooth and \delta-potentials are derived, and an asymptotic semiclassical trace formula (for smooth potentials) is presented and discussed.