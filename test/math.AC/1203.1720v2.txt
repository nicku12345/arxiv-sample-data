In 1971, McMullen and Walkup posed the following conjecture, which is called the generalized lower bound conjecture: If P is a simplicial d-polytope then its h-vector (h_0,h_1,...,h_d) satisfies h_0 \leq h_1 \leq ... \leq h_{\lfloor \frac d 2 \rfloor}. Moreover, if h_{r-1}=h_r for some r \leq \frac d 2 then P can be triangulated without introducing simplices of dimension \leq d-r.   The first part of the conjecture was solved by Stanley in 1980 using the hard Lefschetz theorem for projective toric varieties. In this paper, we give a proof of the remaining part of the conjecture. In addition, we generalize this property to a certain class of simplicial spheres, namely those admitting the weak Lefschetz property.