Given a local ring containing a field, we define and investigate a family of invariants that includes the Lyubeznik numbers, but that captures finer information. These "generalized Lyubeznik numbers" are defined as lengths of certain iterated local cohomology modules in a category of D-modules, and in order to define them, we develop the theory of a functor Lyubeznik utilized in proving that his original invariants are well defined. In particular, this functor gives an equivalence of categories with a category of D-modules. These new invariants are indicators of F-regularity and F-rationality in characteristic p>0, and have close connections with characteristic cycle multiplicities in characteristic zero. We compute the generalized Lyubeznik numbers associated to monomial ideals using interpretations as lengths in a category of straight modules, as well as provide examples of these invariants associated to certain determinantal ideals.