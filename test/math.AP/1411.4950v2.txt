Consider the global wellposedness problem for nonlinear   Schr\"odinger equation \[ i\partial_t u = [-\tfrac{1}{2} \Delta + V(x)] u \pm |u|^{4/(d-2)} u, \ u(0) \in \Sigma(\mathbf{R}^d), \] where \Sigma is the weighted Sobolev space \dot{H}^1 \cap |x|^{-1} L^2. The case V(x) = \tfrac{1}{2}|x|^2 was recently treated by the author. This note generalizes the results to a class of "approximately quadratic" potentials.   We closely follow the previous concentration compactness arguments for the harmonic oscillator. A key technical difference is that in the absence of a concrete formula for the linear propagator, we apply more general tools from microlocal analysis, including a Fourier integral parametrix of Fujiwara.