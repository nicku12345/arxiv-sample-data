In this paper we introduce a new invariant for the action of a finite group G on a compact complex curve of genus g. With the aid of this invariant we achieve the classification of the components of the moduli space of curves with an effective action by the dihedral group D_n. This invariant has been used in the meanwhile by the authors in order to extend the genus stabilization result of Livingston and Dunfield and Thurston to the ramified case. This new version contains an appendix clarifying the correspondence between the above components and the image loci in the moduli space M_g (classifying when two such components have the same image).