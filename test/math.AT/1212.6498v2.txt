We provide a general method for finding all natural operations on the Hochschild complex of E-algebras, where E is any algebraic structure encoded in a prop with multiplication, as for example the prop of Frobenius, commutative or A_infty-algebras. We show that the chain complex of all such natural operations is approximated by a certain chain complex of formal operations, for which we provide an explicit model that we can calculate in a number of cases. When E encodes the structure of open topological conformal field theories, we identify this last chain complex, up quasi-isomorphism, with the moduli space of Riemann surfaces with boundaries, thus establishing that the operations constructed by Costello and Kontsevich-Soibelman via different methods identify with all formal operations. When E encodes open topological quantum field theories (or symmetric Frobenius algebras) our chain complex identifies with Sullivan diagrams, thus showing that operations constructed by Tradler-Zeinalian, again by different methods, account for all formal operations. As an illustration of the last result we exhibit two infinite families of non-trivial operations and use these to produce non-trivial higher string topology operations, which had so far been elusive.