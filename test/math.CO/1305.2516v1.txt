The K{\L}R conjecture of Kohayakawa, {\L}uczak, and R\"odl is a statement that allows one to prove that asymptotically almost surely all subgraphs of the random graph G_{n,p}, for sufficiently large p : = p(n), satisfy an embedding lemma which complements the sparse regularity lemma of Kohayakawa and R\"odl. We prove a variant of this conjecture which is sufficient for most known applications to random graphs. In particular, our result implies a number of recent probabilistic versions, due to Conlon, Gowers, and Schacht, of classical extremal combinatorial theorems. We also discuss several further applications.