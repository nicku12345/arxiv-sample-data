In this paper, we consider coloring of graphs under the assumption that some vertices are already colored. Let G be an r-colorable graph and let P\subset V(G). Albertson [J.\ Combin.\ Theory Ser. B \textbf{73} (1998), 189--194] has proved that if every pair of vertices in P have distance at least four, then every (r+1)-coloring of G[P] can be extended to an (r+1)-coloring of G, where G[P] is the subgraph of G induced by P. In this paper, we allow P to have pairs of vertices of distance at most three, and investigate how the number of such pairs affects the number of colors we need to extend the coloring of G[P]. We also study the effect of pairs of vertices of distance at most two, and extend the result by Albertson and Moore [J.\ Combin.\ Theory Ser. B \textbf{77} (1999) 83--95].