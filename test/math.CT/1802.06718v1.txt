Many interesting classes of maps from homotopical algebra can be characterised as those maps with the right lifting property against certain sets of maps (such classes are sometimes referred to as cofibrantly generated). In a more sophisticated notion due to Garner (referred to as algebraically cofibrantly generated) the set of maps is replaced with a diagram over a small category.   We give a yet more general definition where the set or diagram of maps is replaced with a vertical map in a Grothendieck fibration. In addition to an interesting new view of the existing examples above, we get new notions, such as computable lifting problems in presheaf assemblies, and internal lifting problems in a topos.   We show that under reasonable conditions one can define a notion of universal lifting problem and carry out step-one of Garner's small object argument. We give explicit descriptions of what the general construction looks like in some examples.