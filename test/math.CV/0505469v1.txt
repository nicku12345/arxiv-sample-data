Let D be a pseudoconvex domain in \C^k_t\times\Cn_z and let \phi be a plurisubharmonic function in D. For each t we consider the n-dimensional slice of D, D_t=\{z; (t,z)\in D\}, let \phi^t be the restriction of \phi to D_t and denote by K_t(z,\zeta) the Bergman kernel of D_t with the weight function \phi^t. Generalizing a recent result of Maitani and Yamaguchi (corresponding to n=1 and \phi=0) we prove that \log K_t(z,z) is a plurisubharmonic function in D. We also generalize an earlier results of Yamaguchi concerning the Robin function and discuss similar results in the setting of \Rn.