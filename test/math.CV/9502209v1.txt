Associated to a newform f(z) is a Dirichlet series L_f(s) with functional equation and Euler product. Hecke showed that if the Dirichlet series F(s) has a functional equation of the appropriate form, then F(s)=L_f(s) for some holomorphic newform f(z) on \Gamma(1). Weil extended this result to \Gamma_0(N) under an assumption on the twists of F(s) by Dirichlet characters. We show that, at least for small N, the assumption on twists can be replaced by an assumption on the local factors of the Euler product of F(s).