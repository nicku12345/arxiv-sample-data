In this paper we prove a variation of constants formula for a non autonomous and non homogeneous Cauchy problems whenever the linear part is not densely defined and is not a Hille-Yosida operator. By using this variation of constants formula we derive a necessary and sufficient conditions for the existence of exponential dichotomy for the evolution family generated by the associated non autonomous homogeneous problem. We also prove a persistence result of the exponential dichotomy for small perturbations. Finally we illustrate our result by consider a parabolic equation with non local and non autonomous boundary conditions.