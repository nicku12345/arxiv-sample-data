The study of Lipschitz equivalence of fractals is a very active topic in recent years. Most of the studies in literature concern totally disconnected fractals. In this paper, using finite state automata, we construct a bi-Lipschitz map between two fractal squares which are not totally disconnected. This is the first non-trivial map of this type. We also show that this map is measure-preserving.