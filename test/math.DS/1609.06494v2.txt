We construct countable Markov partitions for non-uniformly hyperbolic diffeomorphisms on compact manifolds of any dimension, extending earlier work of O. Sarig for surfaces. These partitions allow us to obtain symbolic coding on invariant sets of full measure for all hyperbolic measures whose Lyapunov exponents are bounded away from zero by a constant. Applications include counting results for hyperbolic periodic orbits, and structure of hyperbolic measures of maximal entropy.