This paper provides necessary conditions of optimality for optimal control problems with time delays in both state and control variables. Different versions of the necessary conditions cover fixed end-time problems and, under additional hypotheses, free end-time problems. The conditions improve on previous available conditions in a number of respects. They can be regarded as the first generalized Pontryagin Maximum Principle for fully non-smooth optimal control problems, involving delays in state and control variables, only special cases of which have previously been derived. Even when the data is smooth, the conditions advance the existing theory. For example, we provide a new `two-sided' generalized transversality condition, associated with the optimal end-time, which gives more information about the optimal end-time than the `one-sided' condition in the earlier literature. But there are improvements in other respects, relating to the treatment of initial data, specifying past histories of the state and control, and to the unrestrictive nature of the hypotheses under which the necessary conditions are derived.