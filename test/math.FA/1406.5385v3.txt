We show that if p_-\geq 2, then a sufficient condition for the density of smooth functions with compact support, in the variable exponent Sobolev space W^{1,p(\cdot)}(\mathbb R^n), is that the Riesz potentials of compactly supported functions of L^{p(\cdot)}(\mathbb R^n), are also elements of L^{p(\cdot)}(\mathbb R^n). Using this result we then prove that the above density holds if (i) p_-\geq n or if (ii) 2\leq p_-< n and p_+<\frac{np_-}{n-p_-}. Moreover our result allows us to give an alternative proof, for the case p_-\geq 2, that the local boundedness of the maximal operator and hence local log-H{\"o}lder continuity imply the density of smooth functions with compact support, in the variable exponent Sobolev space W^{1,p(\cdot)}(\mathbb R^n).