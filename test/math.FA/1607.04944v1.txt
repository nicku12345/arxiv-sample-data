Considered are Wiener--Hopf plus Hankel operators W(a)+H(b):L^p(\mathbb{R}^+)\to L^p(\mathbb{R}^+) with generating functions a and b from a subalgebra of L^\infty(\mathbb{R}) containing almost periodic functions and Fourier images of L^1(\mathbb{R})-functions. If the generating functions a and b satisfy the matching condition   \begin{equation*} a(t) a(-t)=b(t) b(-t),\quad t\in\mathbb{R},   \end{equation*} an explicit description for the kernels and cokernels of the operators mentioned is given.