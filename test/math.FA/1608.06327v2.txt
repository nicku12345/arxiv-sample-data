Let f: S(E) \to S(B) be a surjective isometry between the unit spheres of two weakly compact JB^*-triples not containing direct summands of rank smaller than or equal to 3. Suppose E has rank greater than or equal to 5. Applying techniques developed in JB^*-triple theory, we prove that f admits an extension to a surjective real linear isometry T: E\to B. Among the consequences, we show that every surjective isometry between the unit spheres of two compact C^*-algebras A and B (and in particular when A=K(H) and B=K(H')) extends to a surjective real linear isometry from A into B. These results provide new examples of infinite dimensional Banach spaces where Tingley's problem admits a positive answer.