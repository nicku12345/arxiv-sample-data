It is well known that, in general, the set of commutators of a group G may not be a subgroup. Guralnick showed that if G is a finite p-group with p\ge 5 such that G' is abelian and 3-generator, then all the elements of the derived subgroup are commutators. In this paper, we extend Guralnick's result by showing that the condition of G' to be abelian is not needed. In this way, we complete the study of this property in finite p-groups in terms of the number of generators of the derived subgroup. We will also see that the same result is true when the action of G on G' is uniserial modulo (G')^p and |G':(G')^p| does not exceed p^{p-1}. Finally, we will prove that analogous results are satisfied when working with pro-p groups.