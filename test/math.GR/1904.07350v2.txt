This note contains a (short) proof of the following generalisation of the Friedman--Mineyev theorem (earlier known as the Hanna Neumann conjecture): if A and B are nontrivial free subgroups of a virtually free group containing a free subgroup of index n, then rank(A\cap B)-1\leqslant n\cdot(rank(A)-1)\cdot(rank(B)-1). In addition, we obtain a virtually-free-product analogue of this result.