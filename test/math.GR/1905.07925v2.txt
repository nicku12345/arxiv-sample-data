We prove a new inequality for the asymptotic dimension of HNN-extensions. We deduce that the asymptotic dimension of every finitely generated one relator group is at most two, confirming a conjecture of A.Dranishnikov. As further corollaries we calculate the exact asymptotic dimension of Right-angled Artin groups and we give a new upper bound for the asymptotic dimension of fundamental groups of graphs of groups.