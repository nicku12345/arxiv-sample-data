Let G be a finite group and N(G) be the set of its conjugacy class sizes. In the 1980's Thompson conjectured that the equality N(G)=N(S), where Z(G)=1 and S is simple, implies the isomorphism G\simeq S. In a series of papers of different authors Thompson's conjecture was proved. In this paper, we show that in some cases it is possible to omit the conditions Z(G)=1 and S is simple and prove a more general result.