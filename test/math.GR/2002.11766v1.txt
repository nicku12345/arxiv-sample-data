Let T be a tree (not necessarily locally finite). We give a classification up to conjugacy of the closed subgroups G of \mathrm{Aut}(T) that have Tits' independence property (P) in terms of data called a local action diagram, which is the quotient graph G \backslash T decorated with the `local actions' of G. We then show how to determine whether the group has certain properties, such as geometric density, compact generation and simplicity, directly from the local action diagram.