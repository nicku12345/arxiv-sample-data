A state generating is introduced to determine the Jones polynomial of a link. Formulae for two infinite families of knots are shown by applying this method, the second family of which are proved to be non-alternating. Moreover, the method is generalized to compute the Jones-Kauffman polynomial of a virtual link. As examples, formulae for one infinite family of virtual knots are given.