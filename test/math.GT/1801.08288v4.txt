For a compact 3-manifold N with non-empty boundary, Zickert gave a combinatorial formula for computing the volume and Chern-Simons invariant of a boundary parabolic representation \pi_1(N)\rightarrow \mathrm{PSL}(2,\mathbb{C}). In this paper, we introduce a notion of deformed Ptolemy varieties and extend the formula of Zickert to a representation that is not necessarily boundary parabolic. This allows us to compute the volume and Chern-Simons invariant of a \mathrm{PSL}(2,\mathbb{C})-representation of a closed 3-manifold.