We define an obstruction for a knot to be Z[Z]-homology ribbon, and use this to provide restrictions on the integers that can occur as the triple linking numbers of derivative links of knots that are either homotopy ribbon or doubly slice. Our main application finds new non-doubly slice knots. In particular this gives new information on the doubly solvable filtration of Taehee Kim: doubly algebraically slice ribbon knots need not be doubly (1)-solvable, and doubly algebraically slice knots need not be (0.5,1)-solvable. We also discuss potential connections to unsolved conjectures in knot concordance, such as generalised versions of Kauffman's conjecture. Moreover it is possible that our obstruction could fail to vanish on a slice knot.