The purpose of this work is to construct a model for the functional architecture of the primary visual cortex (V1), based on a structure of metric measure space induced by the underlying organization of receptive profiles (RPs) of visual cells. In order to account for the horizontal connectivity of V1 in such a context, a diffusion process compatible with the geometry of the space is defined following the classical approach of K.-T. Sturm. The construction of our distance function does neither require any group parameterization of the family of RPs, nor involve any differential structure. As such, it adapts to non-parameterized sets of RPs, possibly obtained through numerical procedures; it also allows to model the lateral connectivity arising from non-differential metrics such as the one induced on a pinwheel surface by a family of filters of vanishing scale. On the other hand, when applied to the classical framework of Gabor filters, this construction yields a distance approximating the sub-Riemannian structure proposed as a model for V1 by G. Citti and A. Sarti [J Math Imaging Vis 24: 307 (2006)], thus showing itself to be consistent with existing cortex models.