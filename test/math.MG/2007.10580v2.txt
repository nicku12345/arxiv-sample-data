The focus of this paper is on Ahlfors Q-regular compact sets E\subset\mathbb{R}^n such that, for each Q-2<\alpha\le 0, the weighted measure \mu_{\alpha} given by integrating the density \omega(x)=\text{dist}(x, E)^\alpha yields a Muckenhoupt \mathcal{A}_p-weight in a ball B containing E. For such sets E we show the existence of a bounded linear trace operator acting from W^{1,p}(B,\mu_\alpha) to B^\theta_{p,p}(E, \mathcal{H}^Q\vert_E) when 0<\theta<1-\tfrac{\alpha+n-Q}{p}, and the existence of a bounded linear extension operator from B^\theta_{p,p}(E, \mathcal{H}^Q\vert_E) to W^{1,p}(B, \mu_\alpha) when 1-\tfrac{\alpha+n-Q}{p}\le \theta<1. We illustrate these results with E as the Sierpi\'nski carpet, the Sierpi\'nski gasket, and the von Koch snowflake.