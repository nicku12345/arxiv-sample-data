We consider a homotopic evolution in the space of smooth shapes starting from the unit circle. Based on the Loewner-Kufarev equation we give a Hamiltonian formulation of this evolution and provide conservation laws. The symmetries of the evolution are given by the Virasoro algebra. The `positive' Virasoro generators span the holomorphic part of the complexified vector bundle over the space of conformal embeddings of the unit disk into the complex plane and smooth on the boundary. In the covariant formulation they are conserved along the Hamiltonian flow. The `negative' Virasoro generators can be recovered by an iterative method making use of the canonical Poisson structure. We study an embedding of the Loewner-Kufarev trajectories into the Segal-Wilson Grassmannian, construct the tau-function, the Baker-Akhiezer function, and finally, give a class of solutions to the KP equation.