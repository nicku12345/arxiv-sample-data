We present a new numerical scheme to solve the Helmholtz equation in a wave-guide. We consider a medium that is bounded in the x_2-direction, unbounded in the x_1-direction and \varepsilon-periodic for large |x_1|, allowing different media on the left and on the right. We suggest a new numerical method that is based on a truncation of the domain and the use of Bloch wave ansatz functions in radiation boxes. We prove the existence and a stability estimate for the infinite dimensional version of the proposed problem. The scheme is tested on several interfaces of homogeneous and periodic media and it is used to investigate the effect of negative refraction at the interface of a photonic crystal with a positive effective refractive index.