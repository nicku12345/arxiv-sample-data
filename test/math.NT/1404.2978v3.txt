Let F be a totally real field with ring of integers O_F, and D be a totally definite quaternion algebra over F. A well-known formula established by Eichler and then extended by K\"orner computes the class number of any O_F-order in D. In this paper we generalize the Eichler class number formula so that it works for arbitrary \mathbb{Z}-orders in D. The motivation is to count the isomorphism classes of supersingular abelian surfaces in a simple isogeny class over a prime finite field \mathbb{F}_p. We give explicit formulas for the number of these isomorphism classes for all primes p.