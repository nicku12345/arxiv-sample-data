The Cohen-Lenstra-Martinet heuristics predict the frequency with which a fixed finite abelian group appears as an ideal class group of an extension of number fields, for certain sets of extensions of a base field. Recently, Malle found numerical evidence suggesting that their proposed frequency is incorrect when there are unexpected roots of unity in the base field of these extensions. Moreover, Malle proposed a new frequency, which is a much better match for his data. We present a random matrix heuristic (coming from function fields) that leads to a function field version of Malle's conjecture (as well as generalizations of it).