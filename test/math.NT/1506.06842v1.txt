We examine the calculation of the second and fourth moments and shifted moments of the Riemann zeta-function on the critical line using long Dirichlet polynomials and divisor correlations. Previously this approach has proved unsuccessful in computing moments beyond the eighth, even heuristically. A careful analysis of the second and fourth moments illustrates the nature of the problem and enables us to identify the terms that are missed in the standard application of these methods.