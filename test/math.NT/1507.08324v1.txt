It is often the case that a Selmer group of an abelian variety and a group related to an ideal class group can both be naturally embedded into the same cohomology group. One hopes to compute one from the other by finding how close each is to their intersection. In this paper we compute the two groups and their intersection explicitly in the local case and put together the local information to get sharp upper bounds in the global case. The techniques in this paper can be used for arbitrary abelian varieties, isogenies and number fields assuming a frequently occurring condition. Several examples are worked out for the Jacobians of elliptic and hyperelliptic curves.