The "noncommutative graphs" which arise in quantum error correction are a special case of the quantum relations introduced in [N. Weaver, Quantum relations, Mem. Amer. Math. Soc. 215 (2012), v-vi, 81-140]. We use this perspective to interpret the Knill-Laflamme error-correction conditions [E. Knill and R. Laflamme, Theory of quantum error-correcting codes, Phys. Rev. A 55 (1997), 900-911] in terms of graph-theoretic independence, to give intrinsic characterizations of Stahlke's noncommutative graph homomorphisms [D. Stahlke, Quantum source-channel coding and non-commutative graph theory, arXiv:1405.5254] and Duan, Severini, and Winter's noncommutative bipartite graphs [R. Duan, S. Severini, and A. Winter, Zero-error communication via quantum channels, noncommutative graphs, and a quantum Lovasz number, IEEE Trans. Inform. Theory 59 (2013), 1164-1174], and to realize the noncommutative confusability graph associated to a quantum channel as the pullback of a diagonal relation.   Our framework includes as special cases not only purely classical and purely quantum information theory, but also the "mixed" setting which arises in quantum systems obeying superselection rules. Thus we are able to define noncommutative confusability graphs, give error correction conditions, and so on, for such systems. This could have practical value, as superselection constraints on information encoding can be physically realistic.