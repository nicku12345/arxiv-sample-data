We present a new framework for the solution of mathematical programs with equilibrium constraints (MPECs). In this algorithmic framework, an MPECs is viewed as a concentration of an unconstrained optimization which minimizes the complementarity measure and a nonlinear programming with general constraints. A strategy generalizing ideas of Byrd-Omojokun's trust region method is used to compute steps. By penalizing the tangential constraints into the objective function, we circumvent the problem of not satisfying MFCQ. A trust-funnel-like strategy is used to balance the improvements on feasibility and optimality. We show that, under MPEC-MFCQ, if the algorithm does not terminate in finite steps, then at least one accumulation point of the iterates sequence is an S-stationary point.