Flexibility in power demand, diverse usage patterns and storage capability of plug-in electric vehicles (PEVs) grow the elasticity of residential electricity demand remarkably. This elasticity can be utilized to form the daily aggregated demand profile and/or alter instantaneous demand of a system wherein a large number of residential PEVs share one electricity retailer or an aggregator. In this paper, we propose a demand response (DR) technique to manage vehicle-to-grid (V2G) enabled PEVs' electricity assignments (charging and discharging) in order to reduce the overall electricity procurement costs for a retailer bidding to a two-settlement electricity market, i.e., a day-ahead (DA) and a spot or real-time (RT) market. We show that our approach is decentralized, scalable, fast converging and does not violate users' privacy. Extensive simulations show significant overall cost savings can be achieved for a retailer bidding to an operational electricity market by using the proposed algorithm. This technique becomes more needful when the power grid accommodates a large number of intermittent energy resources wherein RT demand altering is crucial due to more likely contingencies and hence more RT price fluctuations and even occurring the so-called \textit{black swan events}. Finally, such retailer could offer better deals to customers as well.