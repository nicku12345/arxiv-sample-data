This paper presents a performance-regulation method for a class of stochastic timed event-driven systems aimed at output tracking of a given reference setpoint. The systems are either Discrete Event Dynamic Systems (DEDS) such as queueing networks or Petri nets, or Hybrid Systems (HS) with time-driven dynamics and event-driven dynamics, like fluid queues and hybrid Petri nets. The regulator, designed for simplicity and speed of computation, is comprised of a single integrator having a variable gain to ensure effective tracking under time-varying plants. The gain's computation is based on the Infinitesimal Perturbation Analysis (IPA) gradient of the plant function with respect to the control variable, and the resultant tracking can be quite robust with respect to modeling inaccuracies and gradient-estimation errors. The proposed technique is tested on examples taken from various application areas and modeled with different formalisms, including queueing models, Petri-net model of a production-inventory control system, and a stochastic DEDS model of a multicore chip control. Simulation results are presented in support of the proposed approach.