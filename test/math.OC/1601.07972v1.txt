It is desirable but challenging to fulfill system constraints and reach optimal performance in consensus protocol design for practical multi-agent systems (MASs). This paper investigates the optimal consensus problem for general linear MASs subject to control input constraints. Two classes of MASs including subsystems with semi-stable and unstable dynamics are considered. For both classes of MASs without input constraints, the results on designing optimal consensus protocols are first developed by inverse optimality approach. Utilizing the optimal consensus protocols, the receding horizon control (RHC)-based consensus strategies are designed for these two classes of MASs with input constraints. The conditions for assigning the cost functions distributively are derived, based on which the distributed RHC-based consensus frameworks are formulated. Next, the feasibility and consensus properties of the closed-loop systems are analyzed. It is shown that 1) the optimal performance indices under the inverse optimal consensus protocols are coupled with the network topologies and the system matrices of subsystems, but they are different for MASs with semi-stable and unstable subsystems; 2) the unstable modes of subsystems impose more stringent requirements for the parameter design; 3) the designed RHC-based consensus strategies can make the control input constraints fulfilled and ensure consensus for the closed-loop systems in both cases. But for MASs with semi-stable subsystems, the {\em convergent consensus} can be reached. Finally, two examples are provided to verify the effectiveness of the proposed results.