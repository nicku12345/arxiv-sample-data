We generalize the classical theory on algebraic Riccati equations and optimization to infinite-dimensional well-posed linear systems, thus completing the work of George Weiss, Olof Staffans and others. We show that the optimal control is given by the stabilizing solution of an integral Riccati equation. If the input operator is not maximally unbounded, then this integral Riccati equation is equivalent to the algebraic Riccati equation.   Using the integral Riccati equation, we show that for (nonsingular) minimization problems the optimal state-feedback loop is always well-posed. In particular, the optimal state-feedback operator is admissible also for the original semigroup, not only for the closed-loop semigroup (as has been known in some cases); moreover, both settings are well-posed with respect to an external input. This leads to the positive solution of several central, previously open questions on exponential, output and dynamic (aka. "internal") stabilization and on coprime factorization of transfer functions.   Our theory covers all quadratic (possibly indefinite) cost functions, but the optimal state feedback need not be well-posed (admissible) unless the cost function is uniformly positive or the system is sufficiently regular.