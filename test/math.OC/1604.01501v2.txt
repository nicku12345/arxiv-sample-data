We construct two error feedback controllers for robust output tracking and disturbance rejection of a regular linear system with nonsmooth reference and disturbance signals. We show that for sufficiently smooth signals the output converges to the reference at a rate that depends on the behaviour of the transfer function of the plant on the imaginary axis. In addition, we construct a controller that can be designed to achieve robustness with respect to a given class of uncertainties in the system, and present a novel controller structure for output tracking and disturbance rejection without the robustness requirement. We also generalize the internal model principle for regular linear systems with boundary disturbance and for controllers with unbounded input and output operators. The construction of controllers is illustrated with an example where we consider output tracking of a nonsmooth periodic reference signal for a two-dimensional heat equation with boundary control and observation, and with periodic disturbances on the boundary.