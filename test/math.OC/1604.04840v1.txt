In this paper, we study shape functions depending on closed submanifolds. We prove a new structure theorem that establishes the general structure of the shape derivative for this type of shape function. As a special case we obtain the classical Hadamard-Zol\'esio structure theorem, but also the structure theorem for cracked sets can be recast into our framework. As an application we investigate several unconstrained shape functions arising from differential geometry and fracture mechanics.