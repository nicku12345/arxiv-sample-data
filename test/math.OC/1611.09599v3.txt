The natural gas and electricity systems are now becoming more and more strongly coupled. While gas-fired units (GFUs) are replacing the retired coal plants, the power systems are also increasingly dependent on the flexibilities provided by GFUs to accommodate intermittent renewable energies. The GFUs' capability of power generation relies on the availability of gas resources, which is determined jointly by the capacity of gas suppliers and their associated pipeline networks. However, the gas and electricity markets are operated separately. As a con-sequence, the GFUs actually have to "represent" the whole power system to bid on the gas market: they need to make forecasts on future gas consumption, and bear the risk of improper contracts or being unable to meet the generation schedules due to insufficient gas supply. When facing larger shares of renewable energies and more-frequent gas network congestion, the current market framework is especially unreliable and inefficient, and also economically unfriendly to the investors of the GFU assets. In this paper, we try to develop a framework which can combine the two markets. By properly pricing the scarce resources, e.g., gas transmission capacity, the joint market can help allocate them more efficiently while satisfying the demands. And by considering the uncertainty brought by renewable energies, a more forward-looking day-ahead market clearing framework is presented. The formulation, algorithm of the pro-posed joint market model will be presented, as well as some case studies.