Dual spectral computed tomography (DSCT) can achieve energy- and material-selective images, and has a superior distinguishability of some materials than conventional single spectral computed tomography (SSCT). However, the decomposition process is illposed, which is sensitive with noise, thus the quality of decomposed images are usually degraded, especially the signal-to-noise ratio (SNR) is much lower than single spectra based directly reconstructions. In this work, we first establish a local linear relationship between dual spectra based decomposed results and single spectra based directly reconstructed images. Then, based on this constraint, we propose an optimization model for DSCT and develop a guided image filtering based iterative solution method. Both simulated and real experiments are provided to validate the effectiveness of the proposed approach.