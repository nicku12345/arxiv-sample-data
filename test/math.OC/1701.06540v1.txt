We show that maximal S-free convex sets are polyhedra when S is the set of integral points in some rational polyhedron of \mathbb{R}^n. This result extends a theorem of Lov\'asz characterizing maximal lattice-free convex sets. Our theorem has implications in integer programming. In particular, we show that maximal S-free convex sets are in one-to-one correspondence with minimal inequalities.