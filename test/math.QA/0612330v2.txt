The resonance relations are identities between coordinates of functions with values in tensor products of representations of the quantum group Uq(sl2). We show that the space of hypergeometric solutions of the associated qKZB equations is characterized as the space of functions of Baker-Akhiezer type, satisfying the resonance relations. We give an alternative representation-theoretic construction of this space, using the traces of regularized intertwining operators for the quantum group, and thus establish the equivalence between hypergeometric and trace function solutions of the qKZB equations.   We define the quantum conformal blocks as distinguished Weyl anti-invariant hypergeometric qKZB solutions with values in a tensor product of finite-dimensional modules. We prove that for generic q the dimension of the space of quantum conformal blocks equals the dimension of the quantum group invariants, and is computed by the Verlinde algebra when q is a root of unity.