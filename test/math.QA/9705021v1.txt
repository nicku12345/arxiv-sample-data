The Teichm\"uller space of punctured surfaces with the Weil-Petersson symplectic structure and the action of the mapping class group is realized as the Hamiltonian reduction of a finite dimensional symplectic space where the mapping class group acts by symplectic rational transformations. Upon quantization the corresponding (projective) representation of the mapping class group is generated by the quantum dilogarithms.