Motivated by the work of Koornwinder, Macdonald, Cherednik, Noumi, and van Diejen we define a 6-parameter double affine Hecke algebra and establish its basic structural properties, including the existence of an involution. We relate the algebra to (symmetric and nonsymmetric) Koornwinder polynomials via the method of intertwiners and, as a consequence, obtain a proof of Macdonald's duality conjecture for Koornwinder polynomials. Combined with earlier work of van Diejen this completely settles all the outstanding conjectures of Macdonald and Koornwinder about these polynomials.