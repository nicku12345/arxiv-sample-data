We define generalized double affine Hecke algebras (GDAHA) of higher rank, attached to a non-Dynkin star-like graph D. This generalizes GDAHA of rank 1 defined in math.QA/0406480 and math.QA/0409261. If the graph is extended D4, then GDAHA is the algebra defined by Sahi in q-alg/9710032, which is a generalization of the Cherednik algebra of type BCn. We prove the formal PBW theorem for GDAHA, and parametrize its irreducible representations in the case when D is affine (i.e. extended D4, E6, E7, E8) and q=1. We formulate a series of conjectures regarding algebraic properties of GDAHA. We expect that, similarly to how GDAHA of rank 1 provide quantizations of del Pezzo surfaces (as shown in math.QA/0406480), GDAHA of higher rank provide quantizations of deformations of Hilbert schemes of these surfaces. The proofs are based on the study of the rational version of GDAHA (which is closely related to the algebras studied in math.QA/0401038), and differential equations of Knizhnik-Zamolodchikov type.