The paper contains a description of the maximal ideal spaces (spectra) \cM_A of bi-invariant function algebras A on a compact group G. There are natural compatible structures in \cM_A: it is a compact topological semigroup with involution, polar decomposition, and analytic structure. The paper contains a description of \cM_A and related results on function algebras; for example, a bi-invariant function algebra on a connected compact Lie group is antisymmetric if and only if the Haar measure of its maximal torus is multiplicative on it. Some results are extended to the case of compact commutative homogeneous spaces. As a consequence, we get an infinite dimensional version of the Hilbert--Mumford criterion for commutative (as homogeneous spaces) orbits of compact connected Lie groups, where one parameter semigroup is replaced by a finite sequence of them.   Keywords: Maximal ideal space, invariant function algebra, complex Lie semigroup, commutative homogeneous space, Hilbert--Mumford criterion