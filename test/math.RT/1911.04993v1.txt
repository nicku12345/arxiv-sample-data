Let V be a vector space over a field \mathbb F with scalar product given by a nondegenerate sesquilinear form whose matrix is diagonal in some basis. If \mathbb F=\mathbb C, then we give canonical matrices of isometric and selfadjoint operators on V using known classifications of isometric and selfadjoint operators on a complex vector space with nondegenerate Hermitian form. If \mathbb F is a field of characteristic different from 2, then we give canonical matrices of isometric, selfadjoint, and skewadjoint operators on V up to classification of symmetric and Hermitian forms over finite extensions of \mathbb F.