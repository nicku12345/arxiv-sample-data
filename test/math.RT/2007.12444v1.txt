Let G be a reductive algebraic group over a field k. When k=C, R.K.Brylinski constructed a filtration of weight spaces of a G module, using the action of a principal nilpotent element of the Lie algebra, and proved that this filtration corresponds to Lusztig's q-analogue of the weight multiplicity. Later, Ginzburg discovered that this filtration has an interesting geometric interpretation via the geometric Satake correspondence. The goal of this article is to generalize these results to positive characteristics.