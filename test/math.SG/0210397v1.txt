We show that the following three systems related to various hydrodynamical approximations: the Korteweg--de Vries equation, the Camassa--Holm equation, and the Hunter--Saxton equation, have the same symmetry group and similar bihamiltonian structures. It turns out that their configuration space is the Virasoro group and all three dynamical systems can be regarded as equations of the geodesic flow associated to different right-invariant metrics on this group or on appropriate homogeneous spaces. In particular, we describe how Arnold's approach to the Euler equations as geodesic flows of one-sided invariant metrics extends from Lie groups to homogeneous spaces. We also show that the above three cases describe all generic bihamiltonian systems which are related to the Virasoro group and can be integrated by the translation argument principle: they correspond precisely to the three different types of generic Virasoro orbits.