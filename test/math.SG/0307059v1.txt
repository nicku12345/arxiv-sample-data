We propose that geometric quantization of symplectic manifolds is the arrow part of a functor, whose object part is deformation quantization of Poisson manifolds. The `quantization commutes with reduction' conjecture of Guillemin and Sternberg then becomes a special case of the functoriality of quantization. In fact, our formulation yields almost unlimited generalizations of the Guillemin--Sternberg conjecture, extending it, for example, to arbitrary Lie groups or even Lie groupoids. Technically, this involves symplectic reduction and Weinstein's dual pairs on the classical side, and Kasparov's bivariant K-theory for C*-algebras (KK-theory) on the quantum side.