We develop a method for preserving pseudoholomorphic curves in contact 3-manifolds under surgery along transverse links. This makes use of a geometrically natural boundary value problem for holomorphic curves in a 3-manifold with stable Hamiltonian structure, where the boundary conditions are defined by 1-parameter families of totally real surfaces. The technique is applied here to construct a finite energy foliation for every closed overtwisted contact 3-manifold.