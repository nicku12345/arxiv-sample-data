A A BV algebra and a QP-structure of degree 3 is formulated. A QP-structure of degree 3 gives rise to Lie algebroids up to homotopy and its algebraic and geometric structure is analyzed. A new algebroid is constructed, which derives a new topological field theory in 4 dimensions by the AKSZ construction.