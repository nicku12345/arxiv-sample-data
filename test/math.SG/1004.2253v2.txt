I show that a summation over ribbon graphs with legs gives the construction of the solutions to the noncommutative Batalin-Vilkovisky equation, including the equivariant version. This generalizes the known construction of A-infinity algebra via summation over ribbon trees. These solutions give naturally the supersymmetric matrix action functionals, which are the gl(N)-equivariantly closed differential forms on the matrix spaces, which were introduced in one of my previous papers "Noncommmutative Batalin-Vilkovisky geometry and Matrix integrals" (arXiv:0912.5484, electronic CNRS preprint hal-00102085(28/09/2006)).