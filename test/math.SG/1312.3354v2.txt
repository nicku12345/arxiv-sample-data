This is a research monograph on symplectic cohomology (disguised as an advanced graduate textbook), which provides a construction of this version of Hamiltonian Floer cohomology for cotangent bundles of closed manifolds. The focus is on the aspects of the theory that have been neglected in the literature: (1) the base is not assumed to be orientable or Spin, (2) local systems on the free loop space are used to define twisted versions of Floer cohomology, (3) a (twisted) Batalin-Vilkovisky structure is constructed, and (4) the BV relation is verified. In this setting (i.e. with all the appropriate twists), a proof of Viterbo's theorem relating symplectic cohomology to the homology of the free loop space is provided, and we show that this map respects the BV structure. Viterbo's theorem is proved by constructing three different maps relating the two sides, and proving that two of the compositions are isomorphisms by using degenerations of moduli spaces of genus 0 Riemann surfaces with boundary. Two of the maps constructed are new, and use ideas inspired by a Lagrangian version of family Floer cohomology.