We consider a family \{\Omega^\varepsilon\}_{\varepsilon>0} of periodic domains in \mathbb{R}^2 with waveguide geometry and analyse spectral properties of the Neumann Laplacian -\Delta_{\Omega^\varepsilon} on \Omega^\varepsilon. The waveguide \Omega^\varepsilon is a union of a thin straight strip of the width \varepsilon and a family of small protuberances with the so-called "room-and-passage" geometry. The protuberances are attached periodically, with a period \varepsilon, along the strip upper boundary. For \varepsilon\to 0 we prove a (kind of) resolvent convergence of -\Delta_{\Omega^\varepsilon} to a certain ordinary differential operator. Also we demonstrate Hausdorff convergence of the spectrum. In particular, we conclude that if the sizes of "passages" are appropriately scaled the first spectral gap of -\Delta_{\Omega^\varepsilon} is determined exclusively by geometric properties of the protuberances. The proofs are carried out using methods of homogenization theory.