We find necessary and sufficient conditions of irreducibility of vacuum modules over affine Lie algebras and superalgebras. From this we derive conditions of simplicity of minimal W-algebras. Moreover, in the case of Virasoro and Neveu-Schwarz algebras we obtain explicit formulas for vacuum determinants.