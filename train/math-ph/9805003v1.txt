We propose a method for the approximate computation of the Green function of a scalar massless field subjected to potential barriers of given size and shape in spacetime. The potential of the barriers has the form V(phi)=xi(phi^2-phi_0^2)^2; xi is very large and phi_0 very close to zero, the product (xi phi_0^2) being finite and small. This is equivalent to the insertion of a suitable constraint in the functional integral for phi. The Green function contains a double Fourier transform of the characteristic function of the region where the potential has support.