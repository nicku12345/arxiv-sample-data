Let (R,m) be an n-dimensional regular local ring, essentially of finite type over a field of characteristic zero. In this paper we study the relationship between the singularities of the scheme defined by an m-primary ideal I of R and the multiplier ideals J(I^c), with c varying among the positive rational numbers. In particular, we prove that, for every nonnegative integer k, the Samuel multiplicity of I is greater or equal to (n+k)^n/c^n whenever J(I^c) is contained in the (k+1)-th power of the maximal ideal m. This formula generalizes an inequality on log canonical thresholds previously obtained by Ein, Musta\c{t}\v{a} and the author of this paper (arXiv:math.AG/0205171). A refined inequality is also shown to hold for small dimensions, and similar results valid for a generalization of test ideals in positive characteristics are presented.