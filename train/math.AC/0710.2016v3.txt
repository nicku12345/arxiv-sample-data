Given a submodule J\subset \mathcal O_0^{\oplus r} and a free resolution of J one can define a certain vector valued residue current whose annihilator is J. We make a decomposition of the current with respect to Ass(J) that correspond to a primary decomposition of J. As a tool we introduce a class of currents that includes usual residue and principal value currents; in particular these currents admit a certain type of restriction to analytic varieties and more generally to constructible sets.