Let I be a weakly polymatroidal ideal or a squarefree monomial ideal of a polynomial ring S. In this paper we provide a lower bound for the Stanley depth of I and S/I. In particular we prove that if I is a squarefree monomial ideal which is generated in a single degree, then {\rm sdepth}(I)\geq n-\ell(I)+1 and {\rm sdepth}(S/I)\geq n-\ell(I), where \ell(I) denotes the analytic spread of I. This proves a conjecture of the author in a special case.