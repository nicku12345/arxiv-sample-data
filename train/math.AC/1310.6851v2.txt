The main purpose of this paper is to develop new algorithms for computing invariant rings in a general setting. This includes invariants of nonreductive groups but also of groups acting on algebras over certain rings. In particular, we present an algorithm for computing invariants of a finite group acting on a finitely generated algebra over a Euclidean ring. This may be viewed as a first step in "computational arithmetic invariant theory." As a special case, the algorithm can compute multiplicative invariant rings. Other algorithms are applicable to nonreductive groups and are, when applied to reductive groups, often faster than the algorithms known to date.   The main tool is a generalized and modified version of an ideal that was already used by Derksen in his algorithm for computing invariants of linearly reductive groups. As a further application, these so-called extended Derksen ideals give rise to invariantization maps, which turn an arbitrary ring element into an invariant.   For the most part, the algorithms of this paper have been implemented.