We will prove that if G and H are modules over a principal ideal domain R such that the endomorphism rings \mathrm{End}_R(R\oplus G) and \mathrm{End}_R(R\oplus H) are isomorphic then G\cong H. Conversely, if R is a Dedekind domain such that two R-modules G and H are isomorphic whenever the rings \mathrm{End}_R(R\oplus G) and \mathrm{End}_R(R\oplus H) are isomorphic then R is a PID.