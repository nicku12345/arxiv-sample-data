Let R be an integral domain. For elements a,b \in R, let [a,b] denote their greatest common divisor, if it exists. We say that R has the Z-property if whenever a,b,c,d and e are nonzero nonunits of R such that abc=de, then [ab,d] \neq 1 or [ab,e] \neq 1. The purpose of this paper is to study this property. The atomic integral domains that have this property constitute a class of half-factorial domains. Also, it is known that R must have this property in order for the polynomial ring R[x] to be half-factorial. We use it to give a characterization of half-factorial polynomial rings in the case where every v-ideal is v-generated by two elements. We also show that if R is a Krull domain with this property, then R has torsion class group.