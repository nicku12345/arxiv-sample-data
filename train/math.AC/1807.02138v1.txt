We determine a sharp lower bound for the Hilbert function in degree d of a monomial algebra failing the weak Lefschetz property over a polynomial ring with n variables and generated in degree d, for any d\geq 2 and n\geq 3. We consider artinian ideals in the polynomial ring with n variables generated by homogeneous polynomials of degree d invariant under an action of the cyclic group \mathbb{Z}/d\mathbb{Z}, for any n\geq 3 and any d\geq 2. We give a complete classification of such ideals in terms of the weak Lefschetz property depending on the action.