In this paper, we introduce the notion of generalized rational Okamoto-Painlev\'e pair (S, Y) by generalizing the notion of the spaces of initial conditions of Painlev\'e equations. After classifying those pairs, we will establish an algebro-geometric approach to derive the Painlev\'e differential equations from the deformation of Okamoto-Painlev\'e pairs by using the local cohomology groups. Moreover the reason why the Painlev\'e equations can be written in Hamiltonian systems is clarified by means of the holomorphic symplectic structure on S - Y. Hamiltonian structures for Okamoto-Painlev\'e pairs of type \tilde{E}_7 (= P_{II}) and \tilde{D}_8 (= P_{III}^{\tilde{D}_8}) are calculated explicitly as examples of our theory.