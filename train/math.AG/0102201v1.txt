Let X be a smooth variety and Y a closed subscheme of X. By comparing motivic integrals on X and on a log resolution of (X,Y), we prove the following formula for the log canonical threshold of (X,Y): c(X,Y)=dim X-sup_m{(dim Y_m}/(m+1)}, where Y_m is the mth jet scheme of Y. We show how this formula can be used to study the log canonical threshold. In particular, we give a proof of the Semicontinuity theorem of Demailly and Koll\'ar.