In 1934, Whitney raised the question of how to recognize whether a function f defined on a closed subset X of Euclidean space is the restriction of a function that is continuously differentiable to order p. A necessary and sufficient criterion was given in the case n=1 by Whitney, using limits of finite differences, and in the case p=1 by Glaeser (1958), using limits of secants. We introduce a necessary geometric criterion, for general n and p, involving limits of finite differences, that we conjecture is sufficient at least if X has a "tame topology". We prove that, if X is a compact subanalytic set, then there exists q=q(p) such that the criterion of order q implies that f is p times continuously differentiable. The result gives a new approach to higher-order tangent bundles (or bundles of differentiable operators) on singular spaces.