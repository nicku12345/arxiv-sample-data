In this paper, we study the enumeration of virtual numbers of immersed nodal curves along certain Calabi-Yau K3 fibrations. By using the concept of cosmic strings, we verify the modularity conjeture of the generating function of immersed nodal curves from String theory (Harvey-Moore). Based on the theory defining virtual numbers of nodal curves on algebraic surface (applying to a pencil of lattice polarized K3), a mathematical definition of virtual numbers of immersed rational curves (so-called Gopakumar-Vafa numbers) for Calabi-Yau K3 fibrations is given and it is shown to match up with string theory prediction.