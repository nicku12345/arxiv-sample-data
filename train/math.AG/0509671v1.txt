We use twisted stable maps to answer the following question. Let E\subset P^2 be a smooth cubic. How many rational degree d curves pass through a general points of E, have b specified tangencies with E and c unspecified tangencies, and pass through 3d-1-a-2b-c general points of P^2? The answer is given as a generalization of Kontsevich's recursion. We also investigate more general enumerative problems of this sort, and prove an analogue of a formula of Caporaso and Harris.