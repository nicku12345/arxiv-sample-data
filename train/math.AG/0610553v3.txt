We develop a formalism involving Atiyah classes of sheaves on a smooth manifold, Hochschild chain and cochain complexes. As an application we prove a version of the Riemann--Roch theorem.