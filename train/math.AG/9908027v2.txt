Let G be a finite group of automorphisms of a nonsingular complex threefold M such that the canonical bundle omega_M is locally trivial as a G-sheaf. We prove that the Hilbert scheme Y=GHilb M parametrising G-clusters in M is a crepant resolution of X=M/G and that there is a derived equivalence (Fourier- Mukai transform) between coherent sheaves on Y and coherent G-sheaves on M. This identifies the K theory of Y with the equivariant K theory of M, and thus generalises the classical McKay correspondence. Some higher dimensional extensions are possible.