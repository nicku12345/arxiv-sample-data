Let S=\{S_t\}_{t\geq0} be the semigroup generated on L_2(\Ri^d) by a self-adjoint, second-order, divergence-form, elliptic operator H with Lipschitz continuous coefficients. Further let \Omega be an open subset of \Ri^d with Lipschitz continuous boundary \partial\Omega. We prove that S leaves L_2(\Omega) invariant if, and only if, the capacity of the boundary with respect to H is zero or if, and only if, the energy flux across the boundary is zero. The global result is based on an analogous local result.