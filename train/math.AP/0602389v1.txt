We consider the optimization problem of minimizing \int_{\Omega}|\nabla u|^p dx with a constrain on the volume of \{u>0\}. We consider a penalization problem, and we prove that for small values of the penalization parameter, the constrained volume is attained. In this way we prove that every solution u is locally Lipschitz continuous and that the free boundary, \partial\{u>0\}\cap \Omega, is smooth.