We study the existence of non--trivial solutions to the Yamabe equation: -\Delta u+ a(x)= \mu u|u|^\frac4{n-2} \hbox{} \mu >0, x\in \Omega \subset {\mathbf R}^n \hbox{with} n\geq 4,  u(x)=0 \hbox{on} \partial \Omega under weak regularity assumptions on the potential a(x). More precisely in dimension n\geq 5 we assume that: \begin{enumerate} \item a(x) belongs to the Lorentz space L^{\frac n2, d}(\Omega) for some 1\leq d <\infty, \item a(x) \leq M<\infty \hbox{a.e.} x\in \Omega, \item the set \{x\in \Omega|a(x)<0\} has positive measure, \item there exists c>0 such that \int_\Omega (|\nabla u|^2 + a(x) |u|^2) \hbox{} dx \geq c\int_\Omega |\nabla u|^2 \hbox{} dx \hbox{} \forall u\in H^1_0(\Omega). \end{enumerate} \noindent In dimension n=4 the hypothesis (2) above is replaced by a(x)\leq 0 \hbox{} a.e. \hbox{} x\in \Omega.