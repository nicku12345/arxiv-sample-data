We consider an operator  P  which is a sum of squares of vector fields with analytic coefficients. The operator has a non-symplectic characteristic manifold, but the rank of the symplectic form  \sigma  is not constant on  \Char P . Moreover the Hamilton foliation of the non symplectic stratum of the Poisson-Treves stratification for  P  consists of closed curves in a ring-shaped open set around the origin. We prove that then  P  is analytic hypoelliptic on that open set. And we note explicitly that the local Gevrey hypoellipticity for  P  is  G^{k+1}  and that this is sharp.