We consider the optimization problem of minimizing \int_{\Omega}G(|\nabla u|) dx in the class of functions W^{1,G}(\Omega), with a constrain on the volume of \{u>0\}. The conditions on the function G allow for a different behavior at   0 and at \infty. We consider a penalization problem, and we prove that for small values of the penalization parameter, the constrained volume is attained. In this way we prove that every solution u is locally Lipschitz continuous and that the free boundary, \partial\{u>0\}\cap \Omega, is smooth.