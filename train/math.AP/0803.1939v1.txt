In this article, we consider the compressible Navier-Stokes equation with density dependent viscosity coefficients and a term of capillarity introduced by Coquel et al in \cite{5CR}. This model includes at the same time the barotropic Navier-Stokes equations with variable viscosity coefficients, shallow-water system and the model of Rohde. We first study the well-posedness of the model in critical regularity spaces with respect to the scaling of the associated equations. In a functional setting as close as possibleto the physical energy spaces, we prove global existence of solutions close to a stable equilibrium, and local in time existence for solutions with general initial data. Uniqueness is also obtained.