We study the \Gamma-convergence of the following functional (p>2)  F_{\epsilon}(u):=\epsilon^{p-2}\int_{\Omega}|Du|^p d(x,\partial \Omega)^{a}dx+\frac{1}{\epsilon^{\frac{p-2}{p-1}}}\int_{\Omega}W(u) d(x,\partial \Omega)^{-\frac{a}{p-1}}dx+\frac{1}{\sqrt{\epsilon}}\int_{\partial\Omega}V(Tu)d\mathcal{H}^2,  where \Omega is an open bounded set of \mathbb{R}^3 and W and V are two non-negative continuous functions vanishing at \alpha, \beta and \alpha', \beta', respectively. In the previous functional, we fix a=2-p and u is a scalar density function, Tu denotes its trace on \partial\Omega, d(x,\partial \Omega) stands for the distance function to the boundary \partial\Om. We show that the singular limit of the energies F_{\epsilon} leads to a coupled problem of bulk and surface phase transitions.