In this paper, we derive asymptotic models for the propagation of two and three-dimensional gravity waves at the free surface and the interface between two layers of immiscible fluids of different densities, over an uneven bottom. We assume the thickness of the upper and lower fluids to be of comparable size, and small compared to the characteristic wavelength of the system (shallow water regimes). Following a method introduced by Bona, Lannes and Saut based on the expansion of the involved Dirichlet-to-Neumann operators, we are able to give a rigorous justification of classical models for weakly and strongly nonlinear waves, as well as interesting new ones. In particular, we derive linearly well-posed systems in the so called Boussinesq/Boussinesq regime. Furthermore, we establish the consistency of the full Euler system with these models, and deduce the convergence of the solutions.