In this paper we prove an abstract KAM theorem for infinite dimensional Hamiltonians systems. This result extends previous works of S.B. Kuksin and J. P\"oschel and uses recent techniques of H. Eliasson and S.B. Kuksin. As an application we show that some 1D nonlinear Schr\"odinger equations with harmonic potential admits many quasi-periodic solutions. In a second application we prove the reducibility of the 1D Schr\"odinger equations with the harmonic potential and a quasi periodic in time potential.