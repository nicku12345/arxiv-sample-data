We revisit a result by Cuccagna, Kirr and Pelinovsky about the cubic nonlinear Schr\" odinger equation (NLS) with an attractive localized potential and a time-dependent factor in the nonlinearity. We show that, under generic hypotheses on the linearization at 0 of the equation, small energy solutions are asymptotically free. This is yet a new application of the hamiltonian structure, continuing a program initiated in a paper by Bambusi and Cuccagna.