In this paper we deal with the problem of regularity for non hypo-elliptic partial differential equations with polynomial coefficients. An operator A on on the space of tempered distributions \mathcal{S}^\prime is regular if u belongs to the Schwartz class \mathcal S whenever Au\in \mathcal S. By using tensor products of topological vector spaces and a kind of Wigner transform we reduce the study of regularity of a non hypo-elliptic differential operator, like the twisted laplacian, to a hypo-elliptic one, like the harmonic oscillator.