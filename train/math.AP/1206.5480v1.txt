We present a rigorous derivation of the Ericksen-Leslie equation starting from the Doi-Onsager equation. As in the fluid dynamic limit of the Boltzmann equation, we first make the Hilbert expansion for the solution of the Doi-Onsager equation. The existence of the Hilbert expansion is connected to an open question whether the energy of the Ericksen-Leslie equation is dissipated. We show that the energy is dissipated for the Ericksen-Leslie equation derived from the Doi-Onsager equation. The most difficult step is to prove a uniform bound for the remainder in the Hilbert expansion. This question is connected to the spectral stability of the linearized Doi-Onsager operator around a critical point. By introducing two important auxiliary operators, the detailed spectral information is obtained for the linearized operator around all critical points. However, these are not enough to justify the small Deborah number limit for the inhomogeneous Doi-Onsager equation, since the elastic stress in the velocity equation is also strongly singular. For this, we need to establish a precise lower bound for a bilinear form associated with the linearized operator. In the bilinear form, the interactions between the part inside the kernel and the part outside the kernel of the linearized operator are very complicated. We find a coordinate transform and introduce a five dimensional space called the Maier-Saupe space such that the interactions between two parts can been seen explicitly by a delicate argument of completing the square. However, the lower bound is very weak for the part inside the Maier-Saupe space. In order to apply them to the error estimates, we have to analyze the structure of the singular terms and introduce a suitable energy functional.