In this article, we prove a weighted Hardy inequality for 1<p<+\infty and dimension d\ge1. If p>d, then we can deduce from our weighted Hardy inequality a Poincar\'e inequality. The proof of the weighted Hardy inequality is based on the method of vector fields firstly introduced by Mitidieri \cite{MR1769903}. By the same method, we show for 1<p<+\infty and d\ge1 that weighted Caffarelli-Kohn-Nirenberg inequalities hold true. As an application of our weighted Hardy inequality, we prove a non-existence result for a p-Kolmogorov parabolic equation.