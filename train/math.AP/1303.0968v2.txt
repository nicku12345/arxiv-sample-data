In this paper we prove that the shape optimization problem \min\left\{\lambda_k(\Omega):\ \Omega\subset\R^d,\ \Omega\ \hbox{open},\ P(\Omega)=1,\ |\Omega|<+\infty\right\}, has a solution for any k\in\N and dimension d. Moreover, every solution is a bounded connected open set with boundary which is C^{1,\alpha} outside a closed set of Hausdorff dimension d-8. Our results are more general and apply to spectral functionals of the form f(\lambda_{k_1}(\Omega),\dots,\lambda_{k_p}(\Omega)), for increasing functions f satisfying some suitable bi-Lipschitz type condition.