Many examples of obstruction theory can be formulated as the study of when a lift exists in a commutative square. Typically, one of the maps is a cofibration of some sort and the opposite map is a fibration, and there is a functorial obstruction class that determines whether a lift exists. Working in an arbitrary pointed proper model category, we classify the cofibrations that have such an obstruction theory with respect to all fibrations. Up to weak equivalence, retract, and cobase change, they are the cofibrations with weakly contractible target. Equivalently, they are the retracts of principal cofibrations. Without properness, the same classification holds for cofibrations with cofibrant source. Our results dualize to give a classification of fibrations that have an obstruction theory.