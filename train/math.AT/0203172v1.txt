We study the so-called Gray filtration on the set of phantom maps between two spaces. Using both its algebraic characterization and the Sullivan completion approach to phantom maps, we generalize some of the recent results of Le, McGibbon and Strom. We particularly emphasize on the set of phantom maps with infinite Gray index, describing it in an original algebraic way.   We furthermore introduce and study a natural filtration on SNT-sets (that is sets of homotopy types of spaces having the same n-type for all n), which appears to have the same algebraic characterization of the Gray one on phantom maps. For spaces whose rational homotopy type is that of an H-space or a co-H-space, we establish criteria permitting to determinate those subsets of this filtration which are non trivial, generalizing work of McGibbon and Moller.   We finally describe algebraically the natural connection between phantom maps and SNT-theory, associating to a phantom map its homotopy fiber or cofiber. We use this description to show that this connection respect filtrations, and to find generic examples of spaces for which the filtration on the corresponding SNT-set consists of infinitely many strict inclusions.