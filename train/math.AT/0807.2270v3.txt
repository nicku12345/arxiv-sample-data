In this paper we describe a construction which produces classes in a compactification of the moduli space of curves. This construction extends a construction of Kontsevich which produces classes in the open moduli space from the initial data of a cyclic A-infinity algebra. The initial data for our construction is what we call a `quantum A-infinity algebra', which arises as a type of deformation of a cyclic A-infinity algebra. The deformation theory for these structures is described explicitly. We construct a family of examples of quantum A-infinity algebras which extend a family of cyclic A-infinity algebras, introduced by Kontsevich, which are known to produce all the Miller-Morita-Mumford classes using his construction.