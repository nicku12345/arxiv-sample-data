We prove the validity over \mathbb{R} of a commutative differential graded algebra model of configuration spaces for simply connected closed smooth manifolds, answering a conjecture of Lambrechts--Stanley. We get as a result that the real homotopy type of such configuration spaces only depends on the real homotopy type of the manifold. We moreover prove, if the dimension of the manifold is at least 4, that our model is compatible with the action of the Fulton--MacPherson operad (weakly equivalent to the little disks operad) when the manifold is framed. We use this more precise result to get a complex computing factorization homology of framed manifolds. Our proofs use the same ideas as Kontsevich's proof of the formality of the little disks operads.