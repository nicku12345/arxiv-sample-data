We discuss a generalisation of the Herbert formula for double points, when the normal bundle of an immersion admits an additional structure, and an application.