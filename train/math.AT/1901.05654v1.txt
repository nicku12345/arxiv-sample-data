In this paper, we construct a bar-cobar adjunction and a Koszul duality theory for protoperads, which are an operadic type notion encoding faithfully some categories of bialgebras with diagonal symmetries, like double Lie algebras (DLie). We give a criterion to show that a binary quadratic protoperad is Koszul and we apply it successfully to the protoperad DLie. As a corollary, we deduce that the properad DPois which encodes double Poisson algebras is Koszul. This allows us to describe the homotopy properties of double Poisson algebras which play a key role in non commutative geometry.