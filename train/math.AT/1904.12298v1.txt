Let Y be a pointed space and let \mathcal E(Y^r) be the group of based self-equivalences of Y^r, r\geq 2. For Y a homotopy commutative H-group we construct a subgroup \mathcal E_{\mathrm{Mat}}(Y^r) of \mathcal E(Y^r) which has a group structure isomorphic to either GL_r(\mathbb Z), or GL_r(\mathbb Z_d), d\geq 2. We classify principal bundles over connected sums of q-sphere bundles over n-spheres and use the group \mathcal E_{\mathrm{Mat}}(Y^r) to obtain homotopy decompositions of their gauge groups. Using these decompositions we give an integral classification, up to homotopy, of the gauge groups of principal SU(2)-bundles over certain 2-connected 7-manifolds with torsion-free homology.