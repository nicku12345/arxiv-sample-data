We prove a general version of the homological perturbation lemma which works in the presence of curvature, and without the restriction to strong deformation retracts, building on work of Markl. A key observation is that the notion of strong homotopy equivalence of complexes (or objects in an abstract dg category) has a natural expression in the language of curved twisted complexes.