Let (X,d) be a compact metric space, and let an iterated function system (IFS) be given on X, i.e., a finite set of continuous maps \sigma_{i}:  X\to X, i=0,1,..., N-1. The maps \sigma_{i} transform the measures \mu  on X into new measures \mu_{i}. If the diameter of  \sigma_{i_{1}}\circ >... \circ \sigma_{i_{k}}(X) tends to zero as  k\to \infty , and if p_{i}>0 satisfies \sum_{i}p_{i}=1, then it is known that there is a unique Borel probability measure \mu  on X such that \mu =\sum_{i}p_{i} \mu_{i} \tag{*}.   In this paper, we consider the case when the p_{i}s are replaced with a certain system of sequilinear functionals. This allows us to study the variable coefficient case of (*), and moreover to understand the analog of (*) which is needed in the theory of wavelets.