We introduce two new concepts, local homogeneity and local L^q-spectrum, both of which are tools that can be used in studying the local structure of measures. The main emphasis is given to the examination of local dimensions of measures in doubling metric spaces. As an application, we reach a new level of generality and obtain new estimates in the study of conical densities and porous measures.