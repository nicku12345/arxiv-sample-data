In this paper, local Tb theorems are studied both in the doubling and non-doubling situation. We prove a local Tb theorem for the class of upper doubling measures. With such general measures, scale invariant testing conditions are required (L^{\infty} or BMO). In the case of doubling measures, we also modify the general non-homogeneous method of proof to yield a new proof of the local Tb theorem with L^2 type testing conditions.