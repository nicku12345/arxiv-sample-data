In this paper, we study limit cycle bifurcations for a kind of non-smooth polynomial differential systems by perturbing a piecewise linear Hamiltonian system with a center at the origin and a homoclinic loop around the origin. By using the first Melnikov function of piecewise near-Hamiltonian systems, we give lower bounds of the maximal number of limit cycles in Hopf and homoclnic bifurcations, and derive an upper bound of the number of limit cycles that bifurcate from the periodic annulus between the center and the homoclinic loop up to the first order in. In the case when the degree of perturbing terms is low, we obtain a precise result on the number of zeros of the first Melnikov function.