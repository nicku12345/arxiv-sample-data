We characterize the Borel measures \mu on \mathbb{R} for which the associated dyadic Hilbert transform, or its adjoint, is of weak-type (1,1) and/or strong-type (p,p) with respect to \mu. Surprisingly, the class of such measures is strictly bigger than the traditional class of dyadically doubling measures and strictly smaller than the whole Borel class. In higher dimensions, we provide a complete characterization of the weak-type (1,1) for arbitrary Haar shift operators, cancellative or not, written in terms of two generalized Haar systems and these include the dyadic paraproducts. Our main tool is a new Calder\'on-Zygmund decomposition valid for arbitrary Borel measures which is of independent interest.