A quantitative two weight theorem for the Hardy-Littlewood maximal operator is proved improving the known ones. As a consequence a new proof of the main results in [HP] and in [HPR12] is obtained which avoids the use of the sharp quantitative reverse Holder inequality for A_{\infty} proved in those papers. Our results are valid within the context of spaces of homogeneous type without imposing the non-empty annuli condition.