We prove L^p(w) bounds for the Carleson operator {\mathcal C}, its lacunary version \mathcal C_{lac}, and its analogue for the Walsh series \W in terms of the A_q constants [w]_{A_q} for 1\le q\le p. In particular, we show that, exactly as for the Hilbert transform, \|{\mathcal C}\|_{L^p(w)} is bounded linearly by [w]_{A_q} for 1\le q<p.   We also obtain L^p(w) bounds in terms of [w]_{A_p}, whose sharpness is related to certain conjectures (for instance, of Konyagin \cite{K2}) on pointwise convergence of Fourier series for functions near L^1.   Our approach works in the general context of maximally modulated Calder\'on-Zygmund operators.