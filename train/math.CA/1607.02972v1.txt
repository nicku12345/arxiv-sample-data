Let \Omega\subset \mathbb{R}^{n} be a bounded open set. Given 1\leq m_1,m_2\leq n-2, we construct a homeomorphism f :\Omega\to \Omega that is H\"older continuous, f is the identity on \partial \Omega, the derivative D f has rank m_1 a.e.\ in \Omega, the derivative D f^{-1} of the inverse has rank m_2 a.e.\ in \Omega, Df\in W^{1,p} and Df^{-1}\in W^{1,q} for p<\min\{m_1+1,n-m_2\}, q<\min\{m_2+1,n-m_1\}. The proof is based on convex integration and laminates. We also show that the integrability of the function and the inverse is sharp.