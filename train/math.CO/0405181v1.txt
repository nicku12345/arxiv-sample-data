Magic labelings of graphs are studied in great detail by Stanley and Stewart. In this article, we construct and enumerate magic labelings of graphs using Hilbert bases of polyhedral cones and Ehrhart quasi-polynomials of polytopes. We define polytopes of magic labelings of graphs and digraphs. We give a description of the faces of the Birkhoff polytope as polytopes of magic labelings of digraphs.