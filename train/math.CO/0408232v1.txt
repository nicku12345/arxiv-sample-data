Connection matrices were introduced by Freedman, Lovasz and Schrijver [1], who used them to characterize graph homomorphism functions. The goal of this note is to determine the exact rank of these matrices. The result can be rephrased in terms of graph algebras (also introduced in [1]. Yet another version proves that if two k-tuples of nodes behave the same way from the point of view of graph homomorphisms, then they are equivalent under the automorphism group.