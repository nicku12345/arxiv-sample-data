One of the most remarkable theorems in coding theory is Gleason's 1970 theorem about the weight enumerators of self-dual codes. In the past 36 years there have been hundreds of papers written about generalizations and applications of this theorem to different types of codes, always on a case-by-case basis. In this paper I state the theorem and then describe the far-reaching generalization that Gabriele Nebe, Eric Rains and I have developed which includes all the earlier generalizations at once. The full proof has just appeared in our book "Self-Dual Codes and Invariant Theory" (Springer, 2006). This paper is based on my talk at the conference on Algebraic Combinatorics in honor of Eiichi Bannai, held in Sendai, Japan, June 26-30, 2006.