A \emph{magic square} is an n \times n array of distinct positive integers whose sum along any row, column, or main diagonal is the same number. We compute the number of such squares for n=4, as a function of either the magic sum or an upper bound on the entries. The previous record for both functions was the n=3 case. Our methods are based on inside-out polytopes, i.e., the combination of hyperplane arrangements and Ehrhart's theory of lattice-point enumeration.