The Lefschetz fixed point theorem follows easily from the identification of the Lefschetz number with the fixed point index. This identification is a consequence of the functoriality of the trace in symmetric monoidal categories. There are refinements of the Lefschetz number and the fixed point index that give a converse to the Lefschetz fixed point theorem. An important part of this theorem is the identification of these different invariants. We define a generalization of the trace in symmetric monoidal categories to a trace in bicategories with shadows. We show the invariants used in the converse of the Lefschetz fixed point theorem are examples of this trace and that the functoriality of the trace provides some of the necessary identifications. The methods used here do not use simplicial techniques and so generalize readily to other contexts.