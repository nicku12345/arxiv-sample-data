We lower substantially the strength of the assumptions needed for the validity of certain results in category theory and homotopy theory which were known to follow from Vopenka's principle. We prove that the necessary large-cardinal hypotheses depend on the complexity of the formulas defining the given classes, in the sense of the Levy hierarchy. For example, the statement that, for a class S of morphisms in a locally presentable category C of structures, the orthogonal class of objects is a small-orthogonality class (hence reflective) is provable in ZFC if S is \Sigma_1, while it follows from the existence of a proper class of supercompact cardinals if S is \Sigma_2, and from the existence of a proper class of what we call C(n)-extendible cardinals if S is \Sigma_{n+2} for n bigger than or equal to 1. These cardinals form a new hierarchy, and we show that Vopenka's principle is equivalent to the existence of C(n)-extendible cardinals for all n. As a consequence, we prove that the existence of cohomological localizations of simplicial sets, a long-standing open problem in algebraic topology, is implied by the existence of arbitrarily large supercompact cardinals. This result follows from the fact that cohomology equivalences are \Sigma_2. In contrast with this fact, homology equivalences are \Sigma_1, from which it follows (as is well known) that the existence of homological localizations is provable in ZFC.