We give a recursive formula to compute the cofree coalgebra P^\vee(C) over any colored operad P in Set, CGHaus or (dg)Vect. The construction is closed to that of Smith but different. We use a more conceptual approach to simplify the proofs that P^\vee is the cofree P-coalgebra functor and also the comonad generating P-coalgebras.   In a second part, when P is a linear or dg-operad over a field, we generalize the notion of representative functions of Block & Leroux and prove that P^\vee(C) is simply the subobject of representative elements in the "completed P-algebra" P^\wedge(C). This says that our recursion (as well as that of Smith) stops at the first step.