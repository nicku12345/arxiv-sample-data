Motivated by topology, we develop a general theory of traces and shadows for an endobicategory, which is a~pair: bicategory \mathbf{C} and endobifunctor \Sigma\colon \mathbf C \to\mathbf C. For a graded linear bicategory and a fixed invertible parameter q, we quantize this theory by using the endofunctor \Sigma_q such that \Sigma_q \alpha:=q^{-\deg \alpha}\Sigma\alpha for any 2-morphism \alpha and coincides with \Sigma otherwise.   Applying the quantized trace to the~bicategory of Chen-Khovanov bimodules we get a new triply graded link homology theory called quantum annular link homology. If q=1 we reproduce Asaeda-Przytycki-Sikora (APS) homology for links in a thickened annulus. We prove that our homology carries an action of \mathcal U_q(\mathfrak{sl}_2), which intertwines the action of cobordisms. In particular, the~quantum annular homology of an n-cable admits an action of the braid group, which commutes with the quantum group action and factors through the Jones skein relation. This produces a nontrivial invariant for surfaces knotted in four dimensions. Moreover, a direct computation for torus links shows that the rank of quantum annular homology groups does depend on the quantum parameter q.