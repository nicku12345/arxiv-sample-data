Given a domain \Omega \subset \mathbb C, the Lempert function is a functional on the space Hol (\D,\Omega) of analytic disks with values in \Omega, depending on a set of poles in \Omega. We generalize its definition to the case where poles have multiplicities given by local indicators (in the sense of Rashkovskii's work) to obtain a function which still dominates the corresponding Green function, behaves relatively well under limits, and is monotonic with respect to the indicators. In particular, this is an improvement over the previous generalization used by the same authors to find an example of a set of poles in the bidisk so that the (usual) Green and Lempert functions differ.