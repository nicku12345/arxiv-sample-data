A new analytical method for the conformal mapping of a rectangular heptagon with a straight angle at infinity to a half plane and back is proposed. The method is based on the observation that SC integral in this case is an abelian integral on a genus two curve, so it may be represented in terms of Riemann theta functions. The approach is illustrated by the computation of 2D flow of ideal fluid above rectangular underlying surface and the computation of the capacities of multi component rectangular condensers with axial symmetry.