We give a necessary and sufficient condition for an n-dimensional Riemannian manifold to be isometrically immersed in S^n x R or H^n x R in terms of its first and second fundamental forms and of the projection of the vertical vector field on its tangent plane. We deduce the existence of a one-parameter family of isometric minimal deformations of a given minimal surface in S^2 x R or H^2 x R, obtained by rotating the shape operator.