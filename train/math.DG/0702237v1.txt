We derive a formula for the first variation of horizontal perimeter measure for C^2 hypersurfaces of completely general sub-Riemannian manifolds, allowing for the existence of characteristic points. For C^2 hypersurfaces in vertically rigid sub-Riemannian manifolds we also produce a second variation formula for variations supported away from the characteristic locus. This variation formula is used to show the bubble sets in \hn{2} are stable under volume preserving variations.