We consider compact hypersurfaces in an (n+1)-dimensional either Riemannian or Lorentzian space N^{n+1} endowed with a conformal Killing vector field. For such hypersurfaces, we establish an integral formula which, especially in the simpler case when N=M^n\times R is a product space, allows us to derive some interesting consequences in terms of the scalar curvature of the hypersurface. For instance, when n=2 and M^2 is either the sphere \mathbb{S}^2 or the real projective plane \mathbb{RP}^2, we characterize the slices of the trivial totally geodesic foliation M^2\times\{t\} as the only compact two-sided surfaces with constant Gaussian curvature in the Riemannian product M^2\times\mathbb{R} such that its angle function does not change sign. When n\geq 3 and M^n is a compact Einstein Riemannian manifold with positive scalar curvature, we also characterize the slices as the only compact two-sided hypersurfaces with constant scalar curvature in the Riemannian product M^n\times\mathbb{R} whose angle function does not change sign. Similar results are also established for spacelike hypersurfaces in a Lorentzian product \mathbb{M}\times\mathbb{R}_1.