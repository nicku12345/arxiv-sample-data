In this paper we introduce the notion of generalized quasi--Einstein manifold, that generalizes the concepts of Ricci soliton, Ricci almost soliton and quasi--Einstein manifolds. We prove that a complete generalized quasi--Einstein manifold with harmonic Weyl tensor and with zero radial Weyl curvature, is locally a warped product with (n-1)--dimensional Einstein fibers. In particular, this implies a local characterization for locally conformally flat gradient Ricci almost solitons, similar to that proved for gradient Ricci solitons.