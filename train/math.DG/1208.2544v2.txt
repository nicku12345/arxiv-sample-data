The main aim of this paper is the description of a large class of lattices in some nilpotent Lie groups, sometimes filiformes, carrying a flat left invariant linear connection anf often a left invariant symplectic form. As a consequence we obtain an infinity of, non homeomorphic, compact affine or symplectic manifolds. We review some new facts about the geometry of compact symplectic nilmanifolds and we describe symplectic reduction for these manifolds. For the Heisenberg Lie group, defined over a local associative and commutative finite dimensional real algebra, a necessary and suffisant condition for the existence of a left invarian symplectic form, is given. In the symplectic case we show a that a lattice in the group determines naturally lattices in the double Lie group corresponding to any solution of the classical Yang-Baxter equation.