We find the shape of the Donaldson invariants of a 4-manifold with b_1=0 and b^+>1, which may be not of simple type. The invariants appear as the q^0 coefficient of a expression given in terms of modular forms (as was predicted by Moore and Witten). We re-express the formula using complete elliptic integrals to prove a conjecture of Kronheimer and Mrowka on the Donaldson invariants of non-simple type 4-manifolds.