We prove that any diffeomorphism of a compact manifold can be C^1-approximated by a diffeomorphism which exhibits a homoclinic bifurcation (a homoclinic tangency or a heterodimensional cycle) or by a diffeomorphism which is partially hyperbolic (its chain-recurrent set splits into partially hyperbolic pieces whose centre bundles have dimensions less or equal to two). We also study in a more systematic way the central models introduced in arXiv:math/0605387.