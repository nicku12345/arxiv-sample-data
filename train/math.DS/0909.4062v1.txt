A diffeomorphism f has a C^1-robust homoclinic tangency if there is a C^1-neighbourhood \cU of f such that every diffeomorphism in g\in \cU has a hyperbolic set \La_g, depending continuously on g, such that the stable and unstable manifolds of \La_g have some non-transverse intersection. For every manifold of dimension greater than or equal to three, we exhibit a local mechanism (blender-horseshoes) generating diffeomorphisms with C^1-robust homoclinic tangencies.   Using blender-horseshoes, we prove that homoclinic classes of C^1-generic diffeomorphisms containing saddles with different indices and that do not admit dominated splittings (of appropriate dimensions) display C^1-robust homoclinic tangencies.