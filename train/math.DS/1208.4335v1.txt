The paper is concerned with mechanical systems which are controlled by implementing a number of time-dependent, frictionless holonomic constraints. The main novelty is due to the presence of additional non-holonomic constraints. We develop a general framework to analyze these problems, deriving the equations of motion and studying the continuity properties of the "control-to-trajectory" maps. Various geometric characterizations are provided, in order that the equations be affine w.r.t. the time derivative of the control. In this case the system is fit for jumps, and the evolution is well defined also in connection with discontinuous control functions. The classical Roller Racer provides an example where the non-affine dependence of the equations on the derivative of the control is due only to the non-holonomic constraint. This is a case where the presence of quadratic terms in the equations can be used for controllability purposes.