Given a factor code \pi from a shift of finite type X onto a sofic shift Y, an ergodic measure \nu on Y, and a function V on X with summable variation, we prove an invariant upper bound on the number of ergodic measures on X which project to \nu and maximize h(\mu) + \int V d\mu among all measures in the fiber \pi^{-1}(\nu). If \nu is fully supported, this bound is the class degree of \pi. This generalizes a previous result for the special case of V=0.