We prove a homogenization result for integral functionals in domains with oscillating boundaries, showing that the limit is defined on a degenerate Sobolev space. We apply this result to the description of the asymptotic behaviour of thin films with fast-oscillating profile, proving that they can be described by first applying the homogenization result above and subsequently a dimension-reduction technique.