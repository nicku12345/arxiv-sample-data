We prove that the norm of a weighted composition operator on the Hardy space H^2 of the disk is controlled by the norm of the weight function in the de Branges-Rovnyak space associated to the symbol of the composition operator. As a corollary we obtain a new proof of the boundedness of composition operators on H^2, and recover the standard upper bound for the norm. Similar arguments apply to weighted Bergman spaces. We also show that the positivity of a generalized de Branges-Rovnyak kernel is sufficient for the boundedness of a given composition operator on the standard functions spaces on the unit ball.