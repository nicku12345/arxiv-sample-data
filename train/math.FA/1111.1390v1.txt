For a partial order \preceq on a set X and an equivalency relation S defined on the same set X we derive a necessary and sufficient condition for the existence of such a total preorder on X whose asymmetric part contains the asymmetric part of the given partial order \preceq and whose symmetric part coincides with the given equivalence relation S. This result generalizes the classical Szpilrajn theorem on extension of a partial order to a perfect (linear) order.