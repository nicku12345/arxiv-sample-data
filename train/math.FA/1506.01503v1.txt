Let R be an expanding matrix with integer entries and let B,L be finite integer digit sets so that (R,B,L) form a Hadamard triple on {\br}^d. We prove that the associated self-affine measure \mu = \mu(R,B) is a spectral measure, which means it admits an orthonormal bases of exponential functions in L^2(\mu). This settles a long-standing conjecture proposed by Jorgensen and Pedersen and studied by many other authors.