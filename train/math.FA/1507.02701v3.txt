We prove that for any separable Banach space X, there exists a compact metric space which is homeomorphic to the Cantor space and whose Lipschitz-free space contains a complemented subspace isomorphic to X. As a consequence we give an example of a compact metric space which is homeomorphic to the Cantor space and whose Lipschitz-free space fails the approximation property and we prove that there exists an uncountable family of topologically equivalent distances on the Cantor space whose free spaces are pairwise non isomorphic. We also prove that the free space over a countable compact metric space has the Schur property. These results answer questions by G. Godefroy.