We develop a calculus of variations for functionals which are defined on a set of non differentiable curves. We first extend the classical differential calculus in a quantum calculus, which allows us to define a complex operator, called the scale derivative, which is the non differentiable analogue of the classical derivative. We then define the notion of extremals for our functionals and obtain a characterization in term of a generalized Euler-Lagrange equation. We finally prove that solutions of the Schr\"odinger equation can be obtained as extremals of a non differentiable variational principle, leading to an extended Hamilton's principle of least action for quantum mechanics. We compare this approach with the scale relativity theory of Nottale, which assumes a fractal structure of space-time.