This article is devoted to the study of monoids which can be endowed with a shuffle product with coefficients in a semiring. We show that, when the multiplicities do not belong to a ring with prime characteristic, such a monoid is a monoid of traces. When the characteristic is prime, we give a decomposition of the congruences \equiv (or relators R) such that A^*/\_\equiv=< A; R> admits a shuffle product. This decomposition involves only addition of primitive elements to the successive quotients. To end with, we study the compatibility with Magnus transformation and examine the case of congruences which are homogeneous for some weight function. The existence of such a weight function is also showed for congruences of depth one.