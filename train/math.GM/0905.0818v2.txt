With the help of a new type of functionals we study manifolds diffeomorphic to S^2\times S^2 and establish, in particular, the Hopf conjecture.