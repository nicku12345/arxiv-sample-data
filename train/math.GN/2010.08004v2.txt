A topological space X is defined to have a neighborhood P-base at any x\in X from some poset P if there exists a neighborhood base (U_p[x])_{p\in P} at x such that U_p[x]\subseteq U_{p'}[x] for all p\geq p' in P. We prove that a compact space is countable, hence metrizable, if it has countable scattered height and a \mathcal{K}(M)-base for some separable metric space M. This gives a positive answer to Problem 8.6.8 in \cite{Banakh2019}.   Let A(X) be the free Abelian topological group on X. It is shown that if Y is a retract of X such that the free Abelian topological group A(Y) has a P-base and A(X/Y) has a Q-base, then A(X) has a P\times Q-base. Also if Y is a closed subspace of X and A(X) has a P-base, then A(X/Y) has a P-base.   It is shown that any Fr\'{e}che-Urysohn topological group with a \mathcal{K}(M)-base for some separable metric space M is first-countable, hence metrizable. And if P is a poset with calibre~(\omega_1, \omega) and G is a topological group with a P-base, then any precompact subset in G is metrizable, hence G is strictly angelic. Applications in function spaces C_p(X) and C_k(X) are discussed. We also give an example of a topological Boolean group of character \leq \mathfrak{d} such that the precompact subsets are metrizable but G doesn't have an \omega^\omega-base if \omega_1<\mathfrak{d}. This gives a consistent negative answer to Problem 6.5 in \cite{GKL15}.