A JSJ-splitting of a group G over a certain class of subgroups is a graph of groups decomposition of G which describes all possible decompositions of G as an amalgamated product or an HNN extension over subgroups lying in the given class. Such decompositions originated in 3-manifold topology. In this paper we generalize the JSJ-splitting constructions of Sela, Rips-Sela and Dunwoody-Sageev and we construct a JSJ-splitting for any finitely presented group with respect to the class of all slender subgroups along which the group splits. Our approach relies on Haefliger's theory of group actions on CAT(0) spaces.