We give a sufficient condition on a finite p-group G of nilpotency class 2 so that \Aut_c(G) = \Inn(G), where \Aut_c(G) and \Inn(G) denote the group of all class preserving automorphisms and inner automorphisms of G respectively. Next we prove that if G and H are two isoclinic finite groups (in the sense of P. Hall), then \Aut_c(G) \cong \Aut_c(H). Finally we study class preserving automorphisms of groups of order p^5 and prove that \Aut_c(G) = \Inn(G) for all the groups of order p^5 except two isoclinism families.