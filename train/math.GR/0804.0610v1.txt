A new class of groups, the locally finitely determined groups of local similarities on compact ultrametric spaces, is introduced and it is proved that groups in this class have the Haagerup property (that is, they are a-T-menable in the sense of Gromov). The class includes Thompson's groups, which have already been shown to have the Haagerup property by D. S. Farley, as well as many other groups acting on boundaries of trees. A sufficient condition, used in this paper, for the Haagerup property is shown in the appendix by D. S. Farley to be equivalent to the well-known property of having a proper action on a space with walls.