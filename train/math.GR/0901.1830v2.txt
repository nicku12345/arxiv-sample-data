We give an algorithm for solving equations and inequations with rational constraints in virtually free groups. Our algorithm is based on Rips classification of measured band complexes. Using canonical representatives, we deduce an algorithm for solving equations and inequations in hyperbolic groups (maybe with torsion). Additionnally, we can deal with quasi-isometrically embeddable rational constraints.