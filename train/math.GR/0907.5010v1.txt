We fix a finitely presented group Q and consider short exact sequences 1\to N\to G\to Q\to 1 with G finitely generated. The inclusion N\to G induces a morphism of profinite completions \hat N\to \hat G. We prove that this is an isomorphism for all N and G if and only if Q is super-perfect and has no proper subgroups of finite index.   We prove that there is no algorithm that, given a finitely presented, residually finite group G and a finitely presentable subgroup P\subset G, can determine whether or not \hat P\to\hat G is an isomorphism.