Let G be a group and let K be a commensurated subgroup of G. Then there is a totally disconnected, locally compact (t.d.l.c.) group \hat{G}_K that contains the profinite completion of K as an open compact subgroup and also contains G (modulo the finite residual of K) as a dense subgroup. Moreover, given an arbitrary group G, then every t.d.l.c. group containing an image of G as a dense subgroup can be realised as a quotient of \hat{G}_K for some commensurated subgroup K.