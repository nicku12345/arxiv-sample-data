Which subgroups of the symmetric group S_n arise as invariance groups of n-variable functions defined on a k-element domain? It appears that the higher the difference n-k, the more difficult it is to answer this question. For k>=n, the answer is easy: all subgroups of S_n are invariance groups. We give a complete answer in the cases k=n-1 and k=n-2, and we also give a partial answer in the general case: we describe invariance groups when n is much larger than n-k. The proof utilizes Galois connections and the corresponding closure operators on S_n, which turn out to provide a generalization of orbit equivalence of permutation groups. We also present some computational results, which show that all primitive groups except for the alternating groups arise as invariance groups of functions defined on a three-element domain.