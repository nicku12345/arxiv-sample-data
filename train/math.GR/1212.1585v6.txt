We define a bounded cohomology class, called the {\em median class}, in the second bounded cohomology -- with appropriate coefficients --of the automorphism group of a finite dimensional CAT(0) cube complex X. The median class of X behaves naturally with respect to taking products and appropriate subcomplexes and defines in turn the {\em median class of an action} by automorphisms of X.   We show that the median class of a non-elementary action by automorphisms does not vanish and we show to which extent it does vanish if the action is elementary. We obtain as a corollary a superrigidity result and show for example that any irreducible lattice in the product of at least two locally compact connected groups acts on a finite dimensional CAT(0) cube complex X with a finite orbit in the Roller compactification of X. In the case of a product of Lie groups, the Appendix by Caprace allows us to deduce that the fixed point is in fact inside the complex X.   In the course of the proof we construct a \Gamma-equivariant measurable map from a Poisson boundary of \Gamma with values in the non-terminating ultrafilters on the Roller boundary of X.