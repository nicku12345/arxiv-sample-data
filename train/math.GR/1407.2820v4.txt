For each natural number d we construct a 3-generated group H_d, which is a subdirect product of free groups, such that the cohomological dimension of H_d is d. Given a group F and a normal subgroup N \lhd F we prove that any right angled Artin group containing the special HNN-extension of F with respect to N must also contain F/N. We apply this to construct, for every d \in \mathbb{N}, a 4-generated group G_d, embeddable into a right angled Artin group, such that the cohomological dimension of G_d is 2 but the cohomological dimension of any right angled Artin group, containing G_d, is at least d. These examples are used to show the non-existence of certain "universal" right angled Artin groups.   We also investigate finitely presented subgroups of direct products of limit groups. In particular we show that for every n\in \mathbb{N} there exists \delta(n) \in \mathbb{N} such that any n-generated finitely presented subgroup of a direct product of finitely many free groups embeds into the \delta(n)-th direct power of the free group of rank 2. As another corollary we derive that any n-generated finitely presented residually free group embeds into the direct product of at most \delta(n) limit groups.