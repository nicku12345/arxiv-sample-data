Denote by \mathcal T_n and \mathcal S_n the full transformation semigroup and the symmetric group on the set \{1,\ldots,n\}, and \mathcal E_n=\{1\}\cup(\mathcal T_n\setminus \mathcal S_n). Let \mathcal T(X,\mathcal P) denote the set of all transformations of the finite set X preserving a uniform partition \mathcal P of X into m subsets of size n, where m,n\geq2. We enumerate the idempotents of \mathcal T(X,\mathcal P), and describe the subsemigroup S=\langle E\rangle generated by the idempotents E=E(\mathcal T(X,\mathcal P)). We show that S=S_1\cup S_2, where S_1 is a direct product of m copies of \mathcal E_n, and S_2 is a wreath product of \mathcal T_n with \mathcal T_m\setminus \mathcal S_m. We calculate the rank and idempotent rank of S, showing that these are equal, and we also classify and enumerate all the idempotent generating sets of minimal size. In doing so, we also obtain new results about arbitrary idempotent generating sets of \mathcal E_n.