Every finitely generated self-similar group naturally produces an infinite sequence of finite d-regular graphs \Gamma_n. We construct self-similar groups, whose graphs \Gamma_n can be represented as an iterated zig-zag product and graph powering: \Gamma_{n+1}=\Gamma_n^k\mathop{\mbox{\textcircled{z}}}\Gamma (k\geq 1). Also we construct self-similar groups, whose graphs \Gamma_n can be represented as an iterated replacement product and graph powering: \Gamma_{n+1}=\Gamma_n^k\mathop{\mbox{\textcircled{r}}}\Gamma (k\geq 1). This gives simple explicit examples of self-similar groups, whose graphs \Gamma_n form an expanding family, and examples of automaton groups, whose graphs \Gamma_n have linear diameters {\rm diam}(\Gamma_n)=O(n) and bounded girth.