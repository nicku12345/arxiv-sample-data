We describe the global structure of totally disconnected locally compact groups having a linear open compact subgroup. Among the applications, we show that if a non-discrete, compactly generated, topologically simple, totally disconnected locally compact group is locally linear, then it is a simple algebraic group over a local field.