We show that connected separable locally compact groups are infinitesimally finitely generated, meaning that there is an integer n such that every neighborhood of the identity contains n elements generating a dense subgroup. We generalize a theorem of Schreier and Ulam by showing that any separable connected compact group is infinitesimally 2-generated.   Inspired by a result of Kechris, we introduce the notion of a quasi non-archimedean group. We observe that full groups are quasi non-archimedean, and that every continuous homomorphism from an infinitesimally finitely generated group into a quasi non-archimedean group is trivial. We prove that a locally compact group is quasi non-archimedean if and only if it is totally disconnected, and provide various examples which show that the picture is much richer for Polish groups. In particular, we get an example of a Polish group which is infinitesimally 1-generated but totally disconnected, strengthening Stevens' negative answer to Problem 160 from the Scottish book.