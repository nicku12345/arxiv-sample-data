We give a proof of the so-called generalized Waldhausen conjecture, which says that an orientable irreducible atoroidal 3-manifold has only finitely many Heegaard splittings in each genus, up to isotopy. Jaco and Rubinstein have announced a proof of this conjecture using different methods.