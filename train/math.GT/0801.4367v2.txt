Fintushel and Stern have proved that if S \subset X is a symplectic surface in a symplectic 4-manifold such that S has simply-connected complement and nonnegative self-intersection, then there are infinitely many topologically equivalent but smoothly distinct embedded surfaces homologous to S. Here we extend this result to include symplectic surfaces whose self-intersection is bounded below by 2-2g, where g is the genus of S.   We make use of tools from Heegaard Floer theory, and include several results that may be of independent interest. Specifically we give an analogue for Ozsvath-Szabo invariants of the Fintushel-Stern knot surgery formula for Seiberg-Witten invariants, both for closed 4-manifolds and manifolds with boundary. This is based on a formula for the Ozsvath-Szabo invariants of the result of a logarithmic transformation, analogous to one obtained by Morgan-Mrowka-Szab\'o for Seiberg-Witten invariants, and the results on Ozsvath-Szabo invariants of fiber sums due to the author and Jabuka. In addition, we give a calculation of the twisted Heegaard Floer homology of circle bundles of "large" degree over Riemann surfaces.