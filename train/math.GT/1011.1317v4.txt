Let L be a link in an integral homology three-sphere. We give a description of the Heegaard Floer homology of integral surgeries on L in terms of some data associated to L, which we call a complete system of hyperboxes for L. Roughly, a complete systems of hyperboxes consists of chain complexes for (some versions of) the link Floer homology of L and all its sublinks, together with several chain maps between these complexes. Further, we introduce a way of presenting closed four-manifolds with b_2^+ > 1 by four-colored framed links in the three-sphere. Given a link presentation of this kind for a four-manifold X, we then describe the Ozsvath-Szabo mixed invariants of X in terms of a complete system of hyperboxes for the link. Finally, we explain how a grid diagram produces a particular complete system of hyperboxes for the corresponding link.