We prove that the so-called t algebra of braids and ties supports a Markov trace. Further, by using this trace in the Jones' recipe, we define invariant polynomials for classical knots and singular knots. Our invariants have three parameters. The invariant of classical knots is an extension of the Homflypt polynomial and the invariant of singular knots is an extension of an invariant of singular knots previously defined by S. Lambropoulou and the second author.