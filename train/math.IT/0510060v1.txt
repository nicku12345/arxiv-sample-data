In this paper we consider the computation of channel capacity for ergodic multiple-input multiple-output channels with additive white Gaussian noise. Two scenarios are considered. Firstly, a time-varying channel is considered in which both the transmitter and the receiver have knowledge of the channel realization. The optimal transmission strategy is water-filling over space and time. It is shown that this may be achieved in a causal, indeed instantaneous fashion. In the second scenario, only the receiver has perfect knowledge of the channel realization, while the transmitter has knowledge of the channel gain probability law. In this case we determine an optimality condition on the input covariance for ergodic Gaussian vector channels with arbitrary channel distribution under the condition that the channel gains are independent of the transmit signal. Using this optimality condition, we find an iterative algorithm for numerical computation of optimal input covariance matrices. Applications to correlated Rayleigh and Ricean channels are given.