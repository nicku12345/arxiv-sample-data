We optimize modulation formats for the additive white Gaussian noise channel with a nonnegative input constraint, also known as the intensity-modulated direct detection channel, with and without confining them to a lattice structure. Our optimization criteria are the average electrical and optical power. The nonnegativity input signal constraint is translated into a conical constraint in signal space, and modulation formats are designed by sphere packing inside this cone. Some remarkably dense packings are found, which yield more power-efficient modulation formats than previously known. For example, at a spectral efficiency of 1 bit/s/Hz, the obtained modulation format offers a 0.86 dB average electrical power gain and 0.43 dB average optical power gain over the previously best known modulation formats to achieve a symbol error rate of 10^-6. This modulation turns out to have a lattice-based structure. At a spectral efficiency of 3/2 bits/s/Hz and to achieve a symbol error rate of 10^-6, the modulation format obtained for optimizing the average electrical power offers a 0.58 dB average electrical power gain over the best lattice-based modulation and 2.55 dB gain over the best previously known format. However, the modulation format optimized for average optical power offers a 0.46 dB average optical power gain over the best lattice-based modulation and 1.35 dB gain over the best previously known format.