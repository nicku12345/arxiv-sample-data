We analyze coding for energy efficiency in relay channels at a fixed source rate. We first propose a half-duplex decode-forward coding scheme for the Gaussian relay channel. We then derive three optimal sets of power allocation, which respectively minimize the network, the relay and the source energy consumption. These optimal power allocations are given in closed-form, which have so far remained implicit for maximum-rate schemes. Moreover, analysis shows that minimizing the network energy consumption at a given rate is not equivalent to maximizing the rate given energy, since it only covers part of all rates achievable by decode-forward. We thus combine the optimized schemes for network and relay energy consumptions into a generalized one, which then covers all achievable rates. This generalized scheme is not only energy-optimal for the desired source rate but also rate-optimal for the consumed energy. The results also give a detailed understanding of the power consumption regimes and allow a comprehensive description of the optimal message coding and resource allocation for each desired source rate and channel realization. Finally, we simulate the proposed schemes in a realistic environment, considering path-loss and shadowing as modelled in the 3GPP standard. Significant energy gain can be obtained over both direct and two-hop transmissions, particularly when the source is far from relay and destination.