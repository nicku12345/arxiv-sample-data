Designing mobiles to harvest ambient energy such as kinetic activities or electromagnetic radiation will enable wireless networks to be self sustaining besides alleviating global warming. In this paper, the spatial throughput of a mobile ad hoc network powered by energy harvesting is analyzed using a stochastic-geometry model. In this model, transmitters are distributed as a Poisson point process and energy arrives at each transmitter randomly with a uniform average rate called the energy arrival rate; upon harvesting sufficient energy, each transmitter transmits with fixed power to an intended receiver under an outage-probability constraint for a target signal-to-interference-and-noise ratio. It is assumed that transmitters store energy in batteries with infinite capacity. By applying the random-walk theory, the probability that a transmitter transmits, called the transmission probability, is proved to be equal to one if the energy-arrival rate exceeds transmission power or otherwise is equal to their ratio. This result and tools from stochastic geometry are applied to maximize the network throughput for a given energy-arrival rate by optimizing transmission power. The maximum network throughput is shown to be proportional to the optimal transmission probability, which is equal to one if the transmitter density is below a derived function of the energy-arrival rate or otherwise is smaller than one and solves a given polynomial equation. Last, the limits of the maximum network throughput are obtained for the extreme cases of high energy-arrival rates and dense networks.