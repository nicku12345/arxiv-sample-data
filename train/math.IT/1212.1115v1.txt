Energy harvesting is increasingly gaining importance as a means to charge battery powered devices such as sensor nodes. Efficient transmission strategies must be developed for Wireless Energy Harvesting Nodes (WEHNs) that take into account both the availability of energy and data in the node. We consider a scenario where data and energy packets arrive to the node where the time instants and amounts of the packets are known (offline approach). In this paper, the best data transmission strategy is found for a finite battery capacity WEHN that has to fulfill some Quality of Service (QoS) constraints, as well as the energy and data causality constraints. As a result of our analysis, we can state that losing energy due to overflows of the battery is inefficient unless there is no more data to transmit and that the problem may not have a feasible solution. Finally, an algorithm that computes the data transmission curve minimizing the total transmission time that satisfies the aforementioned constraints has been developed.