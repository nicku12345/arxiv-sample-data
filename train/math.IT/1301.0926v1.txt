The recently proposed set-up of source coding with a side information "vending machine" allows the decoder to select actions in order to control the quality of the side information. The actions can depend on the message received from the encoder and on the previously measured samples of the side information, and are cost constrained. Moreover, the final estimate of the source by the decoder is a function of the encoder's message and depends causally on the side information sequence. Previous work by Permuter and Weissman has characterized the rate-distortion-cost function in the special case in which the source and the "vending machine" are memoryless. In this work, motivated by the related channel coding model introduced by Kramer, the rate-distortion-cost function characterization is extended to a model with in-block memory. Various special cases are studied including block-feedforward and side information repeat request models.