The newly emerging wireless powered communication networks (WPCNs) have recently drawn significant attention, where radio signals are used to power wireless terminals for information transmission. In this paper, we study a WPCN where one multi-antenna access point (AP) coordinates energy transfer and information transfer to/from a set of single-antenna users. A harvest-then-transmit protocol is assumed where the AP first broadcasts wireless power to all users via energy beamforming in the downlink (DL), and then the users send their independent information to the AP simultaneously in the uplink (UL) using their harvested energy. To optimize the users' throughput and yet guarantee their rate fairness, we maximize the minimum throughput among all users by a joint design of the DL-UL time allocation, the DL energy beamforming, and the UL transmit power allocation plus receive beamforming. We solve this non-convex problem optimally by two steps. First, we fix the DL-UL time allocation and obtain the optimal DL energy beamforming, UL power allocation and receive beamforming to maximize the minimum signal-to-interference-plus-noise ratio (SINR) of all users. This problem is shown to be in general non-convex; however, we convert it equivalently to a spectral radius minimization problem, which can be solved efficiently by applying the alternating optimization based on the non-negative matrix theory. Then, the optimal time allocation is found by a one-dimension search to maximize the minimum rate of all users. Furthermore, two suboptimal designs of lower complexity are proposed, and their throughput performance is compared against that of the optimal solution.