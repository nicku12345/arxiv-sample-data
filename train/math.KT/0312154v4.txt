We prove the formulae conjectured by the first author for the index of K-theory classes over the moduli stack of algebraic G-bundles on a smooth projective curve. The formulae generalise Verlinde's for line bundles and have Witten's integrals over the moduli space of stable bundles as their large level limits. As an application, we prove the Newstead-Ramanan conjecture on the vanishing of high Chern classes of certain moduli spaces of stable G-bundles.