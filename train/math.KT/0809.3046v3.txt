For any prime p and group G, denote the pro-p completion of G by \hat{G}^p. Let \mathcal{C} be the class of all groups G such that, for each natural number n and prime number p, H^n(\hat{G^p},\mathbb Z/p)\cong H^n(G, \mathbb Z/p), where \mathbb Z/p is viewed as a discrete, trivial \hat{G}^p-module. In this article we identify certain kinds of groups that lie in \mathcal{C}. In particular, we show that right-angled Artin groups are in \mathcal{C} and that this class also contains some special types of free products with amalgamation.