We survey work by the author and Ralf Meyer on equivariant KK-theory. Duality plays a key role in our approach. We organize the survey around the objective of computing a certain homotopy-invariant of a space equipped with a proper action of a group or groupoid called the Lefschetz map. The Lefschetz map associates an equivariant K-homology class to an equivariant Kasparov self-morphism of a space X admitting a dual. We want to describe it explicitly in the setting of bundles of smooth manifolds over the base space of a proper groupoid, in which groupoid elements act by diffeomorphisms between fibres. To get the required description we describe a topological model of equivariant KK-theory by way of a theory of correspondences, building on ideas of Paul Baum, Alain Connes and Georges Skandalis that appeared in the 1980's. This model agrees with the analytic model for bundles of smooth manifolds under some technical conditions related to the existence of equivariant vector bundles. Subject to these conditions we obtain a computation of the Lefschetz map in purely topological terms.