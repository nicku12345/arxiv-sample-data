In this paper, we prove a higher Lefschetz formula for foliations in the presence of a closed Haefliger current. We associate with such a current an equivariant cyclic cohomology class of Connes' C*-algebra of the foliation, and compute its pairing with the localized equivariant K-theory in terms of local contributions near the fixed points. As special cases, we recover a number of classical results, and since we may use any closed Haefliger current on the foliation, we get new and very interesting formulae.