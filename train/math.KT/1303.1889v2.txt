We prove the conjecture by Feigin, Fuchs and Gelfand describing the Lie algebra cohomology of formal vector fields on an n-dimensional space with coefficients in symmetric powers of the coadjoint representation. We also compute the cohomology of the Lie algebra of formal vector fields that preserve a given flag at the origin. The latter encodes characteristic classes of flags of foliations and was used in the formulation of the local Riemann-Roch Theorem by Feigin and Tsygan.   Feigin, Fuchs and Gelfand described the first symmetric power and to do this they had to make use of a fearsomely complicated computation in invariant theory. By the application of degeneration theorems of appropriate Hochschild-Serre spectral sequences we avoid the need to use the methods of FFG, and moreover we are able to describe all the symmetric powers at once.