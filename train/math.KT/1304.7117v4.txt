It is an immediate conclusion from Bavula's papers \cite{Bavula:GWA-def}, \cite{Bavula:GWA-tensor-product} that if a generalized Weyl algebra A=\kk[z;\lambda,\eta,\varphi(z)] is homologically smooth, then the polynomial \varphi(z) has no multiple roots. We prove in this paper that the converse is also true. Moreover, formal deformations of A are studied when \kk is of characteristic zero.