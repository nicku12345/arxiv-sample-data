In this paper, we introduce a variation of the notion of topological phase reflecting metric structure of the position space. This framework contains not only periodic and non-periodic systems with symmetries in Kitaev's periodic table but also topological crystalline insulators. We also define the bulk and edge indices as invariants taking values in the twisted equivariant \mathrm{K}-groups of Roe algebras as generalizations of existing invariants such as the Hall conductance or the Kane--Mele \mathbb{Z}_2-invariant. As a consequence, we obtain a new mathematical proof of the bulk-edge correspondence by using the coarse Mayer-Vietoris exact sequence.