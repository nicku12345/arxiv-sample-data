In this paper we study a natural decomposition of G-equivariant K-theory of a proper G-space, when G is a Lie group with a compact normal subgroup A acting trivially. Our decomposition could be understood as a generalization of the theory known as Mackey machine under suitable hypotheses, since it decomposes G-equivariant K-theory in terms of twisted equivariant K-theory groups respect to some subgroups of G/A. Similar decompositions were known for the case of a compact Lie group acting on a space, but our main result applies to discrete, linear and almost connected groups. We also apply this decomposition to study equivariant K-theory of spaces with only one isotropy type. We provide a rich class of examples in order to expose the strength and generality of our results. We also study the decomposition for equivariant connective K-homology for actions of compact Lie groups using a suitable configuration space model, based on previous papers published by the third author.