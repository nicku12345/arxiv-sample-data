We present a version with non-definable forcing notions of Shelah's theory of iterated forcing along a template. Our main result, as an application, is that, if \kappa is a measurable cardinal and \theta<\kappa<\mu<\lambda are uncountable regular cardinals, then there is a ccc poset forcing \mathfrak{s}=\theta<\mathfrak{b}=\mu<\mathfrak{a}=\lambda. Another application is to get models with large continuum where the groupwise-density number \mathfrak{g} assumes an arbitrary regular value.