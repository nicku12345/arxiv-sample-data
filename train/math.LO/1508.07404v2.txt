A topological monoid is isomorphic to an endomorphism monoid of a countable structure if and only if it is separable and has a compatible complete ultrametric such that composition from the left is non-expansive. We also give a topological characterisation of those topological monoids that are isomorphic to endomorphism monoids of countable omega-categorical structures. Finally we present analogous characterisations for polymorphism clones of countable structures and for polymorphism clones of countable omega-categorical structures.