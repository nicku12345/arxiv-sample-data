We consider profinite groups as 2-sorted first order structures, with a group sort, and a second sort which acts as an index set for a uniformly definable basis of neighbourhoods of the identity. It is shown that if the basis consists of {\em all} open subgroups, then the first order theory of such a structure is NIP (that is, does not have the independence property) precisely if the group has a normal subgroup of finite index which is a direct product of finitely many compact p-adic analytic groups, for distinct primes p. In fact, the condition NIP can here be weakened to NTP{}_2. We also show that any NIP profinite group, presented as a 2-sorted structure, has an open prosoluble normal subgroup.