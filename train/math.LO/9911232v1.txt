For a cardinal kappa and a model M of cardinality kappa let No(M) denote the number of non-isomorphic models of cardinality kappa which are L_{infty,kappa}--equivalent to M. In [Sh:133] Shelah established that when kappa is a weakly compact cardinal and mu<=kappa is a nonzero cardinal, there exists a model M of cardinality kappa with No(M)=mu. We prove here that if kappa is a weakly compact cardinal, the question of the possible values of No(M) for models M of cardinality kappa is equivalent to the question of the possible numbers of equivalence classes of equivalence relations which are Sigma^1_1-definable over V_kappa. In math.LO/9911231 we prove that, consistent wise, the possible numbers of equivalence classes of Sigma^1_1-equivalence relations can be completely controlled under the singular cardinal hypothesis. These results settle the problem of the possible values of No(M) for models of weakly compact cardinality, provided that the singular cardinal hypothesis holds.