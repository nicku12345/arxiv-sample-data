This is the fourth part in the series of articles math.MG/0503397, math.MG/0503399, math.MG/0509512 where the theory of valuations on manifolds is developed. In this part it is shown that the filtration on valuations introduced in math.MG/0503399 is compatible with the product. Then it is proved that the Euler-Verdier involution on smooth valuations introduced in math.MG/0503399 is an automorphism of the algebra of valuations. Then an integration functional on valuations with compact support is introduced, and a property of selfduality of valuations is proved. Next a space of generalized valuations is defined, and some basic properties of it are proved. Finally a canonical imbedding of the space of constructible functions on a real analytic manifold into the space of generalized valuations is constructed, and various structures on valuations are compared with known structures on constructible functions.