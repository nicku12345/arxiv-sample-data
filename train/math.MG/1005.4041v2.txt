In this paper we define the magnitude of metric spaces using measures rather than finite subsets as had been done previously and show that this agrees with earlier work with Leinster in arXiv:0908.1582. An explicit formula for the magnitude of an n-sphere with its intrinsic metric is given. For an arbitrary homogeneous Riemannian manifold the leading terms of the asymptotic expansion of the magnitude are calculated and expressed in terms of the volume and total scalar curvature of the manifold. In the particular case of a homogeneous surface the form of the asymptotics can be given exactly up to vanishing terms and this involves just the area and Euler characteristic in the way conjectured for subsets of Euclidean space in previous work.