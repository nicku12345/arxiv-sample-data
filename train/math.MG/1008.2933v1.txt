This article examines the inverse problem for a lossy quantum graph that is internally excited and sensed. In particular, we supply an algorithmic methodology for deducing the topology and geometric structure of the underlying metric graph. Our algorithms rely on narrowband and visibility measurements, and are therefore of considerable value to urban remote sensing applications. In contrast to the traditional methods in quantum graphs, we employ ideas related to algebraic and differential topology directly to our problem. This neatly exposes and separates the impact of the graph topology and geometry.