In the setting of spaces of homogeneous type, we give a direct proof of the local Tb theorem for singular integral operators. Motivated by questions of S. Hofmann, we extend it to the case when the integrability conditions are lower than 2, with an additional weak boundedness type hypothesis, which incorporates some Hardy type inequalities. The latter can be obtained from some geometric conditions on the homogeneous space. For example, we prove that the monotone geodesic property of Tessera suffices.