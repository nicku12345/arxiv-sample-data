We study the structure of the support of a doubling measure by analyzing its self-similarity properties, which we estimate using a variant of the L^1 Wasserstein distance. We show that measure satisfying certain self-similarity conditions admits a unique (up to multiplication by a constant) flat tangent measure at almost every point. This allows us to decompose the support into rectifiable pieces of various dimensions.