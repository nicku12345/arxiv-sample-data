A measure is 1-rectifiable if there is a countable union of finite length curves whose complement has zero measure. We characterize 1-rectifiable Radon measures \mu in n-dimensional Euclidean space for all n\geq 2 in terms of positivity of the lower density and finiteness of a geometric square function, which loosely speaking, records in an L^2 gauge the extent to which \mu admits approximate tangent lines, or has rapidly growing density ratios, along its support. In contrast with the classical theorems of Besicovitch, Morse and Randolph, and Moore, we do not assume an a priori relationship between \mu and 1-dimensional Hausdorff measure. We also characterize purely 1-unrectifiable Radon measures, i.e. locally finite measures that give measure zero to every finite length curve. Characterizations of this form were originally conjectured to exist by P. Jones. Along the way, we develop an L^2 variant of P. Jones' traveling salesman construction, which is of independent interest.