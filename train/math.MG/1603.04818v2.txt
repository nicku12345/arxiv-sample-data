We use porosity to study differentiability of Lipschitz maps on Carnot groups. Our first result states that directional derivatives of a Lipschitz function act linearly outside a \sigma-porous set. The second result states that irregular points of a Lipschitz function form a \sigma-porous set. We use these observations to give a new proof of Pansu's theorem for Lipschitz maps from a general Carnot group to a Euclidean space.