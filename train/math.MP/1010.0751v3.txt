We show how to extend (and with what limitations) Avila's global theory of analytic SL(2,C) cocycles to families of cocycles with singularities. This allows us to develop a strategy to determine the Lyapunov exponent for extended Harper's model, for all values of parameters and all irrational frequencies. In particular, this includes the self-dual regime for which even heuristic results did not previously exist in physics literature. The extension of Avila's global theory is also shown to imply continuous behavior of the LE on the space of analytic M_2(\mathbb{C})-cocycles. This includes rational approximation of the frequency, which so far has not been available.