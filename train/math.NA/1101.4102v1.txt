We address here the issue of congestion in the modeling of crowd motion, in the non-smooth framework: contacts between people are not anticipated and avoided, they actually occur, and they are explicitly taken into account in the model. We limit our approach to very basic principles in terms of behavior, to focus on the particular problems raised by the non-smooth character of the models. We consider that individuals tend to move according to a desired, or spontanous, velocity. We account for congestion by assuming that the evolution realizes at each time an instantaneous balance between individual tendencies and global constraints (overlapping is forbidden): the actual velocity is defined as the closest to the desired velocity among all admissible ones, in a least square sense. We develop those principles in the microscopic and macroscopic settings, and we present how the framework of Wasserstein distance between measures allows to recover the sweeping process nature of the problem on the macroscopic level, which makes it possible to obtain existence results in spite of the non-smooth character of the evolution process. Micro and macro approaches are compared, and we investigate the similarities together with deep differences of those two levels of description.