Let \mathcal{P} \subset [0,1)^S be a finite point set of cardinality N in an S-dimensional cube, and let f:[0,1)^S \to \mathbb{R} be an integrable function. A QMC integration of f by \mathcal{P} is the average of values of f at each point in \mathcal{P}, which approximates the integration of f over the cube. Assume that \mathcal{P} is constructed from an \mathbb{F}2-vector space P\subset (\F2^n)^S by means of a digital net with n-digit precision. As an n-digit discretized version of Josef Dick's method, we introduce Walsh figure of merit (WAFOM) \textnormal{WF}(P) of P, which satisfies a Koksma-Hlawka type inequality, namely, QMC integration error is bounded by C_{S,n}||f||_n \textnormal{WF}(P) under n-smoothness of f, where C_{S,n} is a constant depending only on S,n.   We show a Fourier inversion formula for \textnormal{WF}(P) which is computable in O(n SN) steps. This effectiveness enables us a random search for P with small value of \textnormal{WF}(P), which would be difficult for other figures of merit such as discrepancy. From an analogy to coding theory, we expect that random search may find better point sets than mathematical constructions. In fact, a na\"{i}ve search finds point sets P with small \textnormal{WF}(P). In experiments, we show better performance of these point sets in QMC integration than widely used QMC rules. We show some experimental evidence on the effectiveness of our point sets to even non-smooth integrands appearing in finance.