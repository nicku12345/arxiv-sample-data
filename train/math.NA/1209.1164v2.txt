We show that Kahan's discretization of quadratic vector fields is equivalent to a Runge--Kutta method. When the vector field is Hamiltonian on either a symplectic vector space or a Poisson vector space with constant Poisson structure, the map determined by this discretization has a conserved modified Hamiltonian and an invariant measure, a combination previously unknown amongst Runge--Kutta methods applied to nonlinear vector fields. This produces large classes of integrable rational mappings in two and three dimensions, explaining some of the integrable cases that were previously known.