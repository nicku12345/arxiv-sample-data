We present and analyze a discontinuous Petrov-Galerkin method with optimal test functions for a reaction-dominated diffusion problem in two and three space dimensions. We start with an ultra-weak formulation that comprises parameters \alpha, \beta to allow for general \varepsilon-dependent weightings of three field variables (\varepsilon being the small diffusion parameter). Specific values of \alpha and \beta imply robustness of the method, that is, a quasi-optimal error estimate with a constant that is independent of \varepsilon. Moreover, these values lead to a norm for the field variables that is known to be balanced in \varepsilon for model problems with typical boundary layers. Several numerical examples underline our theoretical estimates and reveal stability of approximations even for very small \varepsilon.