It is shown that for a parabolic problem with maximal L^p-regularity (for 1<p<\infty), the time discretization by a linear multistep method or Runge--Kutta method has maximal \ell^p-regularity uniformly in the stepsize if the method is A-stable (and satisfies minor additional conditions). In particular, the implicit Euler method, the Crank-Nicolson method, the second-order backward difference formula (BDF), and the Radau IIA and Gauss Runge--Kutta methods of all orders preserve maximal regularity. The proof uses Weis' characterization of maximal L^p-regularity in terms of R-boundedness of the resolvent, a discrete operator-valued Fourier multiplier theorem by Blunck, and generating function techniques that have been familiar in the stability analysis of time discretization methods since the work of Dahlquist. The A(\alpha)-stable higher-order BDF methods have maximal \ell^p-regularity under an R-boundedness condition in a larger sector. As an illustration of the use of maximal regularity in the error analysis of discretized nonlinear parabolic equations, it is shown how error bounds are obtained without using any growth condition on the nonlinearity or for nonlinearities having singularities.