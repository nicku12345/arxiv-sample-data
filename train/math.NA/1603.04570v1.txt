We propose a new preconditioner for the Ohta--Kawasaki equation, a nonlocal Cahn--Hilliard equation that describes the evolution of diblock copolymer melts. We devise a computable approximation to the inverse of the Schur complement of the coupled second-order formulation via a matching strategy. The preconditioner achieves mesh independence: as the mesh is refined, the number of Krylov iterations required for its solution remains approximately constant. In addition, the preconditioner is robust with respect to the interfacial thickness parameter if a timestep criterion is satisfied. This enables the highly resolved finite element simulation of three-dimensional diblock copolymer melts with over one billion degrees of freedom.