We study optimal quadrature formulas for arbitrary weighted integrals and integrands from the Sobolev space H^1([0,1]). We obtain general formulas for the worst case error depending on the nodes x_j. A particular case is the computation of Fourier coefficients, where the oscillatory weight is given by \rho_k(x) = \exp(- 2 \pi i k x). Here we study the question whether equidistant nodes are optimal or not. We prove that this depends on n and k: equidistant nodes are optimal if n \ge 2.7 |k| +1  but might be suboptimal for small n. In particular, the equidistant nodes x_j = j/ |k| for j=0, 1, \dots , |k| = n+1 are the worst possible nodes and do not give any useful information. To characterize the worst case function we use certain results from the theory of weak solutions of boundary value problems and related quadratic extremal problems.