Let K be a number field containing the group of n-th roots of unity and S a set of primes of K including all those dividing n and all real archimedean places. We consider the cup product on the first Galois cohomology group of the maximal S-ramified extension of K with coefficients in n-th roots of unity, which yields a pairing on a subgroup of the multiplicative group of K containing the S-units. In this general situation, we determine a formula for the cup product of two elements which pair trivially at all local places.   Our primary focus is the case that K is the cyclotomic field of p-th roots of unity for n = p an odd prime and S consists of the unique prime above p in K. We describe a formula for this cup product in the case that one element is a p-th root of unity. We explain a conjectural calculation of the restriction of the cup product to p-units for all p < 10,000 and conjecture its surjectivity for all p satisfying Vandiver's conjecture. We prove this for the smallest irregular prime p = 37, via a computation related to the Galois module structure of p-units in the unramified extension of K of degree p.   We describe a number of applications: to a product map in K-theory, to the structure of S-class groups in Kummer extensions of K, to relations in the Galois group of the maximal pro-p extension of K unramified outside p, to relations in the graded Z_p-Lie algebra associated to the representation of the absolute Galois group of Q in the outer automorphism group of the pro-p fundamental group of P^1 minus three points, and to Greenberg's pseudo-nullity conjecture.