Fix an elliptic curve E/\Q, and assume the generalized Riemann hypothesis for the L-function  L(E_D, s)  for every quadratic twist E_D of E by D\in\Z. We combine Weil's explicit formula with techniques of Heath-Brown to derive an asymptotic upper bound for the weighted moments of the analytic rank of E_D. It follows from this that, for any unbounded increasing function f on \R, the analytic rank and (assuming in addition the Birch-Swinnerton-Dyer conjecture) the number of integral points of E_D are less than f(D) for almost all D. We also derive an upper bound for the density of low-lying zeros of L(E_D, s) which is compatible with the random matrix models of Katz and Sarnak.