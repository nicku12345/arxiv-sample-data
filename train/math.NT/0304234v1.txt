We describe connections between the Fourier coefficients of derivatives of Eisenstein series and invariants from the arithmetic geometry of the Shimura varieties M associated to rational quadratic forms (V,Q) of signature (n,2). In the case n=1, we define generating series \hat\phi_1(\tau) for 1-cycles (resp. \hat\phi_2(\tau) for 0-cycles) on the arithmetic surface \Cal M associated to a Shimura curve over \Bbb Q. These series are related to the second term in the Laurent expansion of an Eisenstein series of weight \frac32 and genus 1 (resp. genus 2) at the Siegel--Weil point, and these relations can be seen as examples of an `arithmetic' Siegel--Weil formula. Some partial results and conjectures for higher dimensional cases are also discussed.