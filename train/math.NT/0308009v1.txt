Typically, one expects that there are around x\prod_{p\not\in P, p <= x} (1-1/p) integers up to x, all of whose prime factors come from the set P. Of course for some choices of P one may get rather more integers, and for some choices of P one may get rather less. Hall [4] showed that one never gets more than e^\gamma+o(1) times the expected amount (where \gamma is the Euler-Mascheroni constant), which was improved slightly by Hildebrand [5]. Hildebrand [6] also showed that for a given value of \prod_{p\not\in P, p <= x} (1-1/p), the smallest count that you get (asymptotically) is when P consists of all the primes up to a given point. In this paper we shall improve Hildebrand's upper bound, obtaining a result close to optimal, and also give a substantially shorter proof of Hildebrand's lower bound. As part of the proof we give an improved Lipschitz-type bound for such counts.