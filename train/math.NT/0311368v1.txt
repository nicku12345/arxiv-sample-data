Using the modularity technique of Wiles, we study the Hecke algebra of weight 2 and prime level N localized at the Eisenstein primes. On the way, we recover some results of Mazur ("Modular Curves and the Eisenstein Ideal") from a deformation theoretic point of view. Combining some of our results with a theorem of Merel, we obtain new information about the p-part of the class groups of Q(N^(1/p)), where p and N are prime, and N = 1 mod p.