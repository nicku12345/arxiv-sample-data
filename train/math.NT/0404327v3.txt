We prove a conjecture of Conrad, Diamond, and Taylor on the size of certain deformation rings parametrizing potentially Barsotti-Tate Galois representations. To achieve this, we extend results of Breuil and Mezard (classifying Galois lattices in semistable representations in terms of "strongly divisible modules") to the potentially crystalline case in Hodge-Tate weights (0,1). We then use these strongly divisible modules to compute the desired deformation rings. As a corollary, we obtain new results on the modularity of potentially Barsotti-Tate representations.