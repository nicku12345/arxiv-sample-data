At a prime of ordinary reduction, the Iwasawa ``main conjecture'' for elliptic curves relates a Selmer group to a p-adic L-function. In the supersingular case, the statement of the main conjecture is more complicated as neither the Selmer group nor the p-adic L-function is well-behaved. Recently Kobayashi discovered an equivalent formulation of the main conjecture at supersingular primes that is similar in structure to the ordinary case. Namely, Kobayashi's conjecture relates modified Selmer groups, which he defined, with modified p-adic L-functions defined by the first author. In this paper we prove Kobayashi's conjecture for elliptic curves with complex multiplication.