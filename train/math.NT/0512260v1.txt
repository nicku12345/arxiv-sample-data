We study the asymptotics conjecture of Malle for dihedral groups D_\ell of order 2\ell, where \ell is an odd prime. We prove the expected lower bound for those groups. For the upper bounds we show that there is a connection to class groups of quadratic number fields. The asymptotic behavior of those class groups is predicted by the Cohen--Lenstra heuristics. Under the assumption of this heuristic we are able to prove the expected upper bounds.