We prove many cases of a conjecture of Buzzard, Diamond and Jarvis on the possible weights of mod p Hilbert modular forms, by making use of modularity lifting theorems and computations in p-adic Hodge theory.