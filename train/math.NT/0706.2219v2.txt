Let  x = [0;a_1,a_2,...] be the decomposition of the irrational number x \in [0,1] into regular continued fraction. Then for the derivative of the Minkowski function ?(x) we prove that ?'(x) = +\infty provided  \limsup_{t\to \infty}\frac{a_1+...+a_t}{t} <\kappa_1 =\frac{2\log \lambda_1}{\log 2} = 1.388^+, and ?'(x) = 0 provided  \liminf_{t\to \infty}\frac{a_1+...+a_t}{t} >\kappa_2 = \frac{4L_5-5L_4}{L_5-L_4}= 4.401^+ (here  L_j = \log (\frac{j+\sqrt{j^2+4}}{2}) - j\cdot\frac{\log 2}{2}). Constants \kappa_1,\kappa_2 are the best possible. Also we prove that ?'(x) = +\infty holds for all x with partial quotients bounded by 4.