We present an algorithm for computing discriminants and prime ideal decomposition in number fields. The algorithm is a refinement of a p-adic factorization method based on Newton polygons of higher order. The running-time and memory requirements of the algorithm appear to be very good: for a given prime number p, it computes the p-valuation of the discriminant and the factorization of p in a number field of degree 1000 in a few seconds, in a personal computer.