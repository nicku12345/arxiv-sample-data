The purpose of the paper is to complete several global and local results concerning parity of ranks of elliptic curves. Primarily, we show that the Shafarevich-Tate conjecture implies the parity conjecture for all elliptic curves over number fields, give a formula for local and global root numbers of elliptic curves and complete the proof of a conjecture of Kramer and Tunnell in characteristic 0. The method is to settle the outstanding local formulae by deforming from local fields to totally real number fields and then using global parity results.