We show that the equation phi(a)=\sigma(b) has infinitely many solutions, where phi is Euler's totient function and sigma is the sum-of-divisors function. This proves a 50-year old conjecture of Erdos. Moreover, we show that there are infinitely many integers n such that phi(a)=n and sigma(b)=n each have more than n^c solutions, for some c>0. The proofs rely on the recent work of the first two authors and Konyagin on the distribution of primes p for which a given prime divides some iterate of phi at p, and on a result of Heath-Brown connecting the possible existence of Siegel zeros with the distribution of twin primes.