Given a Hecke eigenform f of weight 2 and square-free level N, by the work of Kohnen, there is a unique weight 3/2 modular form of level 4N mapping to f under the Shimura correspondence. Furthermore, by the work of Waldspurger the Fourier coefficients of such a form are related to the quadratic twists of the form f. Gross gave a construction of the half integral weight form when N is prime, and such construction was later generalized to square-free levels. However, in the non-square free case, the situation is more complicated since the natural construction is vacuous. The problem being that there are too many special points so that there is cancellation while trying to encode the information as a linear combination of theta series.   In this paper, we concentrate in the case of level p^2, for p>2 a prime number, and show how the set of special points can be split into subsets (indexed by bilateral ideals for an order of reduced discriminant p^2) which gives two weight 3/2 modular forms mapping to f under the Shimura correspondence. Moreover, the splitting has a geometric interpretation which allows to prove that the forms are indeed a linear combination of theta series associated to ternary quadratic forms.   Once such interpretation is given, we extend the method of Gross-Zagier to the case where the level and the discriminant are not prime to each other to prove a Gross-type formula in this situation.