Given an arbitrary countable directed graph G we prove the C*-envelope of the tensor algebra T_+(G) coincides with the universal Cuntz-Krieger algebra associated with G. Our approach is concrete in nature and does not rely on Hilbert module machinery. We show how our results extend to the case of higher rank graphs, where an analogous result is obtained for the tensor algebra of a row-finite k-graph with no sources.