We show that the constrained characteristic function is a complete unitary invariant for J-constrained completely non-coisometric (c.n.c.) row contractions, where J is a WOT-closed two-sided ideal of the noncommutative analytic Toeplitz algebra. We provide a model for this class of row contractions in terms of the constrained characteristic functions. In particular, we obtain a model theory for q-commuting c.n.c. row contractions.