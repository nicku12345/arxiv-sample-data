We prove that a graph C*-algebra with exactly one proper nontrivial ideal is classified up to stable isomorphism by its associated six-term exact sequence in K-theory. We prove that a similar classification also holds for a graph C*-algebra with a largest proper ideal that is an AF-algebra. Our results are based on a general method developed by the first named author with Restorff and Ruiz. As a key step in the argument, we show how to produce stability for certain full hereditary subalgebras associated to such graph C*-algebras. We further prove that, except under trivial circumstances, a unique proper nontrivial ideal in a graph C*-algebra is stable.