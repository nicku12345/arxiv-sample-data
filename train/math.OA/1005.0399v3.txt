Recently Lewis Bowen introduced a notion of entropy for measure-preserving actions of a countable sofic group on a standard probability space admitting a generating partition with finite entropy. By applying an operator algebra perspective we develop a more general approach to sofic entropy which produces both measure and topological dynamical invariants, and we establish the variational principle in this context. In the case of residually finite groups we use the variational principle to compute the topological entropy of principal algebraic actions whose defining group ring element is invertible in the full group C*-algebra.