We associate with the ring R of algebraic integers in a number field a C*-algebra \cT[R]. It is an extension of the ring C*-algebra \cA[R] studied previously by the first named author in collaboration with X.Li. In contrast to \cA[R], it is functorial under homomorphisms of rings. It can also be defined using the left regular representation of the ax+b-semigroup R\rtimes R^\times on \ell^2 (R\rtimes R^\times).   The algebra \cT[R] carries a natural one-parameter automorphism group (\sigma_t)_{t\in\Rz}. We determine its KMS-structure. The technical difficulties that we encounter are due to the presence of the class group in the case where R is not a principal ideal domain. In that case, for a fixed large inverse temperature, the simplex of KMS-states splits over the class group. The "partition functions" are partial Dedekind \zeta-functions. We prove a result characterizing the asymptotic behavior of quotients of such partial \zeta-functions, which we then use to show uniqueness of the \beta-KMS state for each inverse temperature \beta\in(1,2].