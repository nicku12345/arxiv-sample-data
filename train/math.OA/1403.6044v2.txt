In this paper we define L^{2}-homology and L^{2}-Betti numbers for tracial *-algebras A with respect to a von Neumann subalgebra B. When B is reduced to the field of complex numbers we recover the L^{2}-Betti numbers of A as defined by A. Connes and D. Shlyakhtenko, but we will show that taking into account the role of the von Neumann subalgebra yields to a number of advantages like, for instance, a much better behavior with respect to compression and directed sums. Our main result is that L^{2}-homology and L^{2}-Betti numbers of discrete measured groupoids and equivalence relations as defined by D. Gaboriau and R. Sauer coincide with those of their convolution algebras. We also define new invariants for inclusions of von Neumann algebras, which we call {\em residual L^{2}-Betti numbers}. We prove that the residual L^{2}-Betti numbers of a finite factor with respect to Cartan subalgebra coincide with the L^{2}-Betti numbers of the standard equivalence relation associated to the inclusion.