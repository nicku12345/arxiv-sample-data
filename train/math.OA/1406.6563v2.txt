A duality theory of bundles of C^*-algebras whose fibres are twisted transformation group algebras is established. Classical T-duality is obtained as a special case, where all fibres are commutative tori, i.e. untwisted group algebras for \Z^n. Our theory also includes the bundles considered by Mathai and Rosenberg in their work on non-commutative T-duals, in which they allow twisted group algebras on one side of the duality.