We study dilations of finite tuples of normal, completely positive and completely contractive maps (which we call CP-maps) acting on a von Neumann algebra, and commuting according to a graph G. We show that if G is acyclic, then a tuple commuting according to it has a simultaneous *-endomorphic dilation, which also commutes according to G. Conversely, if G has a cycle, we exhibit an example of a tuple of CP-maps commuting according to G, which does not have an *-endomorphic dilation commuting according to G. To achieve these results we use dilation theory of representations of subproduct systems, as introduced and studied by Shalit and Solel. In the course of our investigations we also prove some results about those kinds of subproduct systems which arise from CP-maps commuting according to to a graph.