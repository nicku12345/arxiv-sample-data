We consider the amenability of groupoids G equipped with a group valued cocycle c:G\to Q with amenable kernel c^{-1}(e). We prove a general result which implies, in particular, that G is amenable whenever Q is amenable and if there is countable set D\subset G such that c(G^{u})D=Q for all u\in G^{(0)}. We show that our result is applicable to groupoids arising from partial semigroup actions. We explore these actions in detail and show that these groupoids include those arising from directed graphs, higher rank graphs and even topological higher rank graphs. We believe our methods yield a nice alternative groupoid approach to these important constructions.