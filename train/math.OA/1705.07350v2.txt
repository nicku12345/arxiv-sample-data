We provide a fairly large family of amalgamated free product groups \Gamma=\Gamma_1\ast_{\Sigma}\Gamma_2 whose amalgam structure can be completely recognized from their von Neumann algebras. Specifically, assume that \Gamma_i is a product of two icc non-amenable bi-exact (e.g., hyperbolic) groups, and \Sigma is icc amenable and has trivial one-sided commensurator in \Gamma_i, for every i\in\{1,2\}. Then \Gamma satisfies the following rigidity property: any group \La such that L(\La) is isomorphic to L(\G) admits an amalgamated free product decomposition \La=\La_1\ast_\Delta \La_2 such that the inclusions L(\Delta)\subseteq L(\La_i) and L(\Sigma)\subseteq L(\G_i) are isomorphic, for every i\in\{1,2\}. This result significantly strengthens some of the previous Bass-Serre rigidity results for von Neumann algebras. As a corollary, we obtain the first examples of amalgamated free product groups which are W^*-superrigid.