We consider Toeplitz and Cuntz-Krieger C^*-algebras associated with finitely aligned left cancellative small categories. We pay special attention to the case where such a category arises as the Zappa-Sz\'ep product of a category and a group linked by a one-cocycle. As our main application, we obtain a new approach to Exel-Pardo algebras in the case of row-finite graphs. We also present some other ways of constructing C^*-algebras from left cancellative small categories and discuss their relationship.