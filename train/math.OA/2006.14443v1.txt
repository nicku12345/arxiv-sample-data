We provide a general description of the KMS states for flows whose fixed point algebra satisfies a certain regularity condition. This is the applied to crossed products by discrete groups, and in particular to certain flows on crossed products by discrete abelian groups where the methods can be combined with spectral analysis for abelian automrphism groups.