It is known that a continuous family of compact operators can be diagonalized pointwise. One can consider this fact as a possibility of diagonalization of the compact operators in Hilbert modules over a commutative W*-algebra. The aim of the present paper is to generalize this fact for a finite W*-algebra A not necessarily commutative. We prove that for a compact operator K acting in the right Hilbert A-module H^*_A dual to H_A under slight restrictions one can find a set of "eigenvectors" x_i\in H^*_A and a non-increasing sequence of "eigenvalues" \lambda_i\in A such that K\,x_i = x_i\,\lambda_i and the autodual Hilbert A-module generated by these "eigenvectors" is the whole H_A^*. As an application we consider the Schr\"odinger operator in magnetic field with irrational magnetic flow as an operator acting in a Hilbert module over the irrational rotation algebra A_{\theta} and discuss the possibility of its diagonalization.