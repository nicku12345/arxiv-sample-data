The standard iterated prisoner's dilemma is an unrealistic model of social behaviour because it forces individuals to participate in the interaction. We analyse a model in which players have the option of ending their association. If the payoff for living alone is neither too high nor too low then the potential for cooperative behaviour is enhanced. For some parameter values it is also possible for a polymorphic population of defectors and conditional cooperators to be stable.