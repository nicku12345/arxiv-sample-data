We describe the probability theory behind a casino game, blackjack, and the procedure to compute the optimal strategy for a deck of arbitrary cards and player's expected win given that he follows the optimal strategy. The exact blackjack probabilities are used, in contrast to approximate probabilities used by Baldwin et al. \cite{BCMM} or Monte Carlo methods. We distinguish between two probability measures \mathbb{P} and \mathbb{Q}; \mathbb{P} is used to compute dealer's probabilities and \mathbb{Q} is used to compute player's expectations. The implementation is described in pseudo-C++. The program is fast enough to deal with any blackjack's hand in a matter of seconds.