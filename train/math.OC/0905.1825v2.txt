We study a class of optimal control problems with state constraints where the state equation is a differential equation with delays. This class includes some problems arising in economics, in particular the so-called models with time to build. We embed the problem in a suitable Hilbert space H and consider the associated Hamilton-Jacobi-Bellman (HJB) equation. This kind of infinite-dimensional HJB equation has not been previously studied and is difficult due to the presence of state constraints and the lack of smoothing properties of the state equation. Our main result on the regularity of solutions to such a HJB equation seems to be completely new. More precisely we prove that the value function is continuous in a sufficiently big open set of H , that it solves in the viscosity sense the associated HJB equation and it has continuous classical derivative in the direction of the present. This regularity result is the starting point to define a feedback map in classical sense, which gives rise to a candidate optimal feedback strategy for the problem. The study of verification theorems and of the closed loop equation will be the subject of a forthcoming paper.