A new universal derivative-free optimization method CDOS (Conjugate Direction with Orthogonal Shift) is proposed. The CDOS method was specially developed to solve optimization tasks where the objective function and constraints are black boxes. The method has quadratic convergence for quadratic and near quadratic functions. An objective function can be non-differentiable and non-continuous. For constrained optimization the constraints can also be non-differentiable and non-continuous. The method handles inequality constraints directly, i.e., it does not transform the objective function, nor uses numeric values of the inequality constraints - it uses only the fact of constraint violation.