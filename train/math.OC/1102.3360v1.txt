We obtain necessary optimality conditions for variational problems with a Lagrangian depending on a Caputo fractional derivative, a fractional and an indefinite integral. Main results give fractional Euler-Lagrange type equations and natural boundary conditions, which provide a generalization of previous results found in the literature. Isoperimetric problems, problems with holonomic constraints and depending on higher-order Caputo derivatives, as well as fractional Lagrange problems, are considered.