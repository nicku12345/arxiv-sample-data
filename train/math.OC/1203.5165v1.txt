We extend the definition of a Stochastic Hybrid Automaton (SHA) to overcome limitations that make it difficult to use for on-line control. Since guard sets do not specify the exact event causing a transition, we introduce a clock structure (borrowed from timed automata), timer states, and guard functions that disambiguate how transitions occur. In the modified SHA, we formally show that every transition is associated with an explicit element of an underlying event set. This also makes it possible to uniformly treat all events observed on a sample path of a stochastic hybrid system and generalize the performance sensitivity estimators derived through Infinitesimal Perturbation Analysis (IPA). We eliminate the need for a case-by-case treatment of different event types and provide a unified set of matrix IPA equations. We illustrate our approach by revisiting an optimization problem for single node finite-capacity stochastic flow systems to obtain performance sensitivity estimates in this new setting.