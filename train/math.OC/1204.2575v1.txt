A Hamiltonian algorithm, both theoretical and numerical, to obtain the reduced equations implementing Pontryagine's Maximum Principle for singular linear-quadratic optimal control problems is presented. This algorithm is inspired on the well-known Rabier-Rheinhboldt constraints algorithm used to solve differential-algebraic equations. Its geometrical content is exploited fully by implementing a Hamiltonian extension of it which is closer to Gotay-Nester presymplectic constraint algorithm used to solve singular Hamiltonian systems. Thus, given an optimal control problem whose optimal feedback is given in implicit form, a consistent set of equations is obtained describing the first order differential conditions of Pontryaguine's Maximum Principle. Such equations are shown to be Hamiltonian and the set of first class constraints corresponding to controls that are not determined, are obtained explicitly.   The strength of the algorithm is shown by exhibiting a numerical implementation with partial feedback on the controls that provides a partial optimal feedback law for the problem. The numerical algorithm is inspired on a previous analysis by the authors of the consistency conditions for singular linear--quadratic optimal control problems. The numerical algorithm is explicitly Hamiltonian. It is shown that only two possibilities can arise for the reduced Hamiltonian PMP: that the reduced equations are completely determined or that they depend on a family of free parameters that will be called the "gauge" controls of the system determined by the first class constraints. The existence of these extra degrees of freedom opens new possibilities for the search of solutions. Numerical evidence of the stability of the algorithm is presented by discussing various relevant numerical experiments.