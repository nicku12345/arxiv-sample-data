In the paper, we consider delay-optimal charging scheduling of the electric vehicles (EVs) at a charging station with multiple charge points. The charging station is equipped with renewable energy generation devices and can also buy energy from power grid. The uncertainty of the EV arrival, the intermittence of the renewable energy, and the variation of the grid power price are taken into account and described as independent Markov processes. Meanwhile, the charging energy for each EV is random. The goal is to minimize the mean waiting time of EVs under the long term constraint on the cost. We propose queue mapping to convert the EV queue to the charge demand queue and prove the equivalence between the minimization of the two queues' average length. Then we focus on the minimization for the average length of the charge demand queue under long term cost constraint. We propose a framework of Markov decision process (MDP) to investigate this scheduling problem. The system state includes the charge demand queue length, the charge demand arrival, the energy level in the storage battery of the renewable energy, the renewable energy arrival, and the grid power price. Additionally the number of charging demands and the allocated energy from the storage battery compose the two-dimensional policy. We derive two necessary conditions of the optimal policy. Moreover, we discuss the reduction of the two-dimensional policy to be the number of charging demands only. We give the sets of system states for which charging no demand and charging as many demands as possible are optimal, respectively. Finally we investigate the proposed radical policy and conservative policy numerically.