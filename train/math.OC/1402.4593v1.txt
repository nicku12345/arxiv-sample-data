The imbalance costs incurred by a stochastic power producer due to forecast production errors have a significant impact on its total profit and therefore, such an impact needs to be taken into account when evaluating investment decisions. In this paper, we propose a modeling framework to analyze the effect of these imbalance costs on optimal generating expansion decisions of stochastic units. The proposed model is cast as a mathematical program with equilibrium constraints, which allows the explicit representation of both the day-ahead and balancing market-clearing mechanisms. We use the proposed framework to investigate the effect of two paradigmatic market designs on investment decisions: a day-ahead market that is cleared following a conventional cost merit-order principle, and an ideal market-clearing procedure that determines day-ahead dispatch decisions accounting for their impact on balancing operation costs. The variability throughout the planning horizon of the expected stochastic power production and demand level in the day-ahead market is modeled via a scenario set. Likewise, the uncertainty pertaining to their corresponding forecast errors, which are to be settled in the balancing market, is also characterized through scenarios. The main features and results of the proposed models are discussed using an illustrative two-node example and a more realistic 24-node case study.