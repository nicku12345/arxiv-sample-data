Extremal problems are studied involving an objective function with values in (order) complete lattices of sets generated by so called set relations. Contrary to the popular paradigm in vector optimization, the solution concept for such problems, introduced by F. Heyde and A. L\"ohne, comprises the attainment of the infimum as well as a minimality property. The main result is a Minty type variational inequality for set optimization problems which provides a sufficient optimality condition under lower semicontinuity assumptions and a necessary condition under appropriate generalized convexity assumptions. The variational inequality is based on a new Dini directional derivative for set-valued functions which is defined in terms of a "lattice difference quotient": A residual operation in a lattice of sets replaces the inverse addition in linear spaces. Relationships to families of scalar problems are pointed out and used for proofs: The appearance of improper scalarizations poses a major difficulty which is dealt with by extending known scalar results such as Diewert's theorem to improper functions.