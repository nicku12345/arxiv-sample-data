This paper studies a basic model of a dynamical distribution network, where the network topology is given by a directed graph with storage variables corresponding to the vertices and flow inputs corresponding to the edges. We aim at regulating the system to consensus, while the storage variables remain greater or equal than a given lower bound. The problem is solved by using a distributed PI controller structure with constraints which vary in time. It is shown how the constraints can be obtained by solving an optimization problem.