In this paper we study the optimality of the certainty equivalence approximation in robust finite-horizon optimization problems with expected cost. We provide an algorithm for determining the subset of the state-space for which the certainty equivalence technique is optimal. In the second part of the paper we show how patterns in the problem structure called symmetries can be used to reduce the computational complexity of the previous algorithm. Finally we demonstrate our technique through numerical examples. In particular we examine networked battery systems and radiant slab building control, for which we show the certainty equivalence controller is optimal over the entire operating range.