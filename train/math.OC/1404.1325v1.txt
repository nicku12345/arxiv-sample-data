In this paper, the problem of optimal dynamic pricing for retail electricity with an unknown demand model is considered. Under the day-ahead dynamic pricing (a.k.a. real time pricing) mechanism, a retailer obtains electricity in a twosettlement wholesale market and serves its customers in real time. Without knowledge on the aggregated demand function of its customers, the retailer aims to maximize its retail surplus by sequentially adjusting its price based on the behavior of its customers in the past. An online learning algorithm, referred to as piecewise linear stochastic approximation (PWLSA), is proposed. It is shown that PWLSA achieves the optimal rate of learning defined by the growth rate of cumulative regret. In particular, the regret of PWLSA is shown to grow logarithmically with respect to the learning horizon, and no other on-line learning algorithm can have the growth rate slower than that of PWLSA. Simulation studies are presented using traces of actual day-ahead prices, and PWLSA compares favorably under both static and dynamically changing parameters.