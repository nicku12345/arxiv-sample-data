In this paper we propose a classification of crowd models in built environments based on the assumed pedestrian ability to foresee the movements of other walkers. At the same time, we introduce a new family of macroscopic models, which make it possible to tune the degree of predictiveness (i.e., rationality) of the individuals. By means of these models we describe both the natural behavior of pedestrians, i.e., their expected behavior according to their real limited predictive ability, and a target behavior, i.e., a particularly efficient behavior one would like them to assume (for, e.g., logistic or safety reasons). Then we tackle a challenging shape optimization problem, which consists in controlling the environment in such a way that the natural behavior is as close as possible to the target one, thereby inducing pedestrians to behave more rationally than what they would naturally do. We present numerical tests which elucidate the role of rational/predictive abilities and show some promising results about the shape optimization problem.