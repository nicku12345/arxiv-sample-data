We propose a proof of the maximum principle for the general Pontryagin type optimal control problem, based on packages of needle variations. The optimal control problem is first reduced to a family of smooth finite-dimensional problems, the arguments of which are the widths of the needles in each packet, then, for each of these problems, the standard Lagrange multipliers rule is applied, and finally, the obtained family of necessary conditions is "compressed" in one universal optimality condition by using the concept of centered family of compacta.