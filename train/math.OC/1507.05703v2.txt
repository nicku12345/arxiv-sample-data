An equivalence between attainability of simultaneous diagonalization (SD) and hidden convexity in quadratically constrained quadratic programming (QCQP) stimulates us to investigate necessary and sufficient SD conditions, which is one of the open problems posted by Hiriart-Urruty (SIAM Rev., 49 (2007), pp. 255-273) nine years ago. In this paper we give a necessary and sufficient SD condition for any two real symmetric matrices and offer a necessary and sufficient SD condition for any finite collection of real symmetric matrices under the existence assumption of a semi-definite matrix pencil. Moreover, we apply our SD conditions to QCQP, especially with one or two quadratic constraints, to verify the exactness of its second-order cone programming relaxation and to facilitate the solution process of QCQP.