We present a flow-control technique in traffic-light intersections, aiming at regulating queue lengths to given reference setpoints. The technique is based on multivariable integrators with adaptive gains, computed at each control cycle by assessing the IPA gradients of the plant functions. Moreover, the IPA gradients are computable on-line despite the absence of detailed models of the traffic flows. The technique is applied to a two-intersection system where it exhibits robustness with respect to modeling uncertainties and computing errors, thereby permitting us to simplify the on-line computations perhaps at the expense of accuracy while achieving the desired tracking. We compare, by simulation, the performance of a centralized, joint two-intersection control with distributed control of each intersection separately, and show similar performance of the two control schemes for a range of parameters.