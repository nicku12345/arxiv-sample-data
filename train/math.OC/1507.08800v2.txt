In order to foster renewable energy integration, improve power quality and reliability, and reduce hydrocarbon emissions, there is a strong need to deploy energy storage systems (ESSs), which can provide a control medium for peak hour utility operations. ESSs are especially desired at the residential level, as this sector has the most untapped demand response potential. However, considering their high acquisition, operation, and maintenance costs, individual ESS deployment is not economically viable. Hence, in this paper, we propose a \emph{sharing-based} ESS architecture, in which the demand of each customer is modeled stochastically and the aggregate demand is accommodated by a combination of power drawn from the grid and the storage unit when the demand exceeds grid capacity. Stochastic framework for analyzing the optimal size of energy storage systems is provided. An analytical method is developed for a group customers with \emph{single} type of appliances. Then, this framework is extended to any network size with arbitrary number of customers and appliance types. The analytical method provides a tractable solution to the ESS sizing problem. Finally, a detailed cost-benefit analysis is provided, and the results indicate that sharing-based ESSs are practical and significant savings in terms of ESS size can be achieved.