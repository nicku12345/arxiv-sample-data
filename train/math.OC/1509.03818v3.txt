Motivated by an open problem posed by J.P. Hespanha, we extend the notion of Barabanov norm and extremal trajectory to classes of switching signals that are not closed under concatenation. We use these tools to prove that the finiteness of the L2-gain is equivalent, for a large set of switched linear control systems, to the condition that the generalized spectral radius associated with any minimal realization of the original switched system is smaller than one.