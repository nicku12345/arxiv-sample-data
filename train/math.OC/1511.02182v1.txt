Many theoretical and experimental studies have used heuristic methods to investigate the dynamic behaviour of the passive coupling of adjacent structures. However, few papers have used optimization techniques with guaranteed convergence in order to increase the efficiency of the passive coupling of adjacent structures. In this paper, the combined problem of optimal arrangement and mechanical properties of dampers placed between two adjacent buildings is considered. A new bi-level optimization approach is presented. The outer-loop of the approach optimizes damper configuration and is solved using the ``inserting dampers'' method, which was recently shown to be a very effective heuristic method. Under the assumption that the dampers have varying damper coefficients, the inner-loop finds the optimal damper coefficients by solving an n-dimensional optimization problem, where derivative information of the objective function is not available. Three different non-gradient methods are compared for solving the inner loop: a genetic algorithm (GA), the mesh adaptive direct search (MADS) algorithm, and the robust approximate gradient sampling (RAGS) algorithm. It is shown that by exploiting this new bi-level problem formulation, modern derivative free optimization techniques with guaranteed convergence (such as MADS and RAGS) can be used. The results indicate a great increase in the efficiency of the retrofitting system, as well as the existence of a threshold on the number of dampers inserted with respect to the efficiency of the retrofitting system.