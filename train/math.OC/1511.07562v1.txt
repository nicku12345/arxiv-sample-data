The growing reliance of electric power systems on gas-fired generation to balance intermittent sources of renewable energy has increased the variation and volume of flows through natural gas transmission pipelines. Adapting pipeline operations to maintain efficiency and security under these new conditions requires optimization methods that account for transients and that can quickly compute solutions in reaction to generator re-dispatch. This paper presents an efficient scheme to minimize compression costs under dynamic conditions where deliveries to customers are described by time-dependent mass flow. The optimization scheme relies on a compact representation of gas flow physics, a trapezoidal discretization in time and space, and a two-stage approach to minimize energy costs and maximize smoothness. The resulting large-scale nonlinear programs are solved using a modern interior-point method. The proposed optimization scheme is validated against an integration of dynamic equations with adaptive time-stepping, as well as a recently proposed state-of-the-art optimal control method. The comparison shows that the solutions are feasible for the continuous problem and also practical from an operational standpoint. The results also indicate that our scheme provides at least an order of magnitude reduction in computation time relative to the state-of-the-art and scales to large gas transmission networks with more than 6000 kilometers of total pipeline.