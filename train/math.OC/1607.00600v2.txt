We study distributed optimization in a cooperative multi-agent setting, where agents have to agree on the usage of shared resources and can communicate via a time-varying network to this purpose. Each agent has its own decision variables that should be set so as to minimize its individual objective function subject to local constraints. Resource sharing is modeled via coupling constraints that involve the non-positivity of the sum of agents' individual functions, each one depending on the decision variables of one single agent. We propose a novel distributed algorithm to minimize the sum of the agents' objective functions subject to both local and coupling constraints, where dual decomposition and proximal minimization are combined in an iterative scheme. Notably, privacy of information is guaranteed since only the dual optimization variables associated with the coupling constraints are exchanged by the agents. Under convexity assumptions, jointly with suitable connectivity properties of the communication network, we are able to prove that agents reach consensus to some optimal solution of the centralized dual problem counterpart, while primal variables converge to the set of optimizers of the centralized primal problem. The efficacy of the proposed approach is demonstrated on a plug-in electric vehicles charging problem.