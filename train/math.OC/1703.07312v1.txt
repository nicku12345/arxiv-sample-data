We consider the class of control systems where the differential equation, state and control system are described by polynomials. Given a set of trajectories and a class of Lagrangians, we are interested to find a Lagrangian in this class for which these trajectories are optimal. To model this inverse problem we use a relaxed version of Hamilton-Jacobi-Bellman optimality conditions, in the continuity of previous work in this vein. Then we provide a general numerical scheme based on polynomial optimization and positivity certificates, and illustrate the concepts on a few academic examples.