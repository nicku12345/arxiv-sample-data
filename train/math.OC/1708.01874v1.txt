Community microgrids offer many advantages for power distribution systems. When there is an extreme event happening, distribution systems can be seamlessly partitioned into several community microgrids for uninterrupted supply to the end-users. In order to guarantee the system reliability, distributed energy resources (DERs) should be sized for ensuring generation adequacy to cover unexpected events. This paper presents a comprehensive methodology for DERs selection in community microgrids, and an economic approach to meet the system reliability requirements. Algorithms of discrete time Fourier transform (DTFT) and particle swarm optimization (PSO) are employed to find the optimal solution. Uncertainties of load demand and renewable generation are taken into consideration. As part of the case study, a sensitivity analysis is carried out to show the renewable generation impact on DERs' capacity planning.