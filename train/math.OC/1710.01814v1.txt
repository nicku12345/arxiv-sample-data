The joint spectral radius (JSR) of a set of matrices characterizes the maximal asymptotic growth rate of an infinite product of matrices of the set. This quantity appears in a number of applications including the stability of switched and hybrid systems. A popular method used for the stability analysis of these systems searches for a Lyapunov function with convex optimization tools. We investigate dual formulations for this approach and leverage these dual programs for developing new analysis tools for the JSR. We show that the dual of this convex problem searches for the occupations measures of trajectories with high asymptotic growth rate. We both show how to generate a sequence of guaranteed high asymptotic growth rate and how to detect cases where we can provide lower bounds to the JSR. We deduce from it a new guarantee for the upper bound provided by the sum of squares lyapunov program. We end this paper with a method to reduce the computation of the JSR of low rank matrices to the computation of the constrained JSR of matrices of small dimension. All results of this paper are presented for the general case of constrained switched systems, that is, systems for which the switching signal is constrained by an automaton.