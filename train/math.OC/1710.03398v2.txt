We study the state consensus problem for linear shift-invariant discrete-time homogeneous multi-agent systems (MASs) over time-varying graphs. A novel approach based on the small gain theorem is proposed to design the consensus control protocols for both neutrally stable and neutrally unstable MASs, assuming the uniformly connected graphs. It is shown that the state consensus can be achieved for neutrally stable MASs under a weak uniform observability condition; for neutrally unstable MASs, the state consensus entails a strong uniform observability condition. Two numerical examples are worked out to illustrate our consensus results.