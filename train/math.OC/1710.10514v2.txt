Battery participants in performance-based frequency regulation markets must consider the cost of battery aging in their operating strategies to maximize market profits. In this paper we solve this problem by proposing an optimal control policy and an optimal bidding policy based on realistic market settings and an accurate battery aging model. The proposed control policy has a threshold structure and achieves near-optimal performance with respect to an offline controller that has complete future information. The proposed bidding policy considers the optimal control policy to maximize market profits while satisfying the market performance requirement through a chance-constraint. It factors the value of performance and supports a trade-off between higher profits and a lower risk of violating performance requirements. We demonstrate the optimality of both policies using simulations. A case study based on the PJM regulation market shows that our approach is effective at maximizing operating profits.