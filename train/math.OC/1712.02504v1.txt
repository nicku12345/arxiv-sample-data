The optimization of facility-based systems is considered. First, the congestion game is converted into a matrix form, so that the matrix approach is applicable. Then, a facility-based system with a system performance criterion is considered. A necessary and sufficient condition is given to assure that the system is convertible into a congestion game with the given system performance criterion as its potential function by designing proper facility-cost functions. Using this technology, for a dynamic facility-based system the global optimization may be reached when each agent optimizes its payoff functions. Finally, the approach is extended to those systems which are partly or nearly convertible.