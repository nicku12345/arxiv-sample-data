In this paper, we propose a risk-based data-driven approach to optimal power flow (DROPF) with dynamic line rating. The risk terms, including penalties for load shedding, wind generation curtailment and line overload, are embedded into the objective function. To hedge against the uncertainties on wind generation data and line rating data, we consider a distributionally robust approach. The ambiguity set is based on second-order moment and Wasserstein distance, which captures the correlations between wind generation outputs and line ratings, and is robust to data perturbation. We show that the proposed DROPF model can be reformulated as a conic program. Considering the relatively large number of constraints involved, an approximation of the proposed DROPF model is suggested, which significantly reduces the computational costs. A Wasserstein distance constrained DROPF and its tractable reformulation are also provided for practical large-scale test systems. Simulation results on the 5-bus, the IEEE 118-bus and the Polish 2736-bus test systems validate the effectiveness of the proposed models.