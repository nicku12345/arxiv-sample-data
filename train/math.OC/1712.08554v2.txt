With increasingly favorable economics and bundling of different grid services, energy storage systems (ESS) are expected to play a key role in integrating renewable generation. This work considers the coordination of ESS owned by customers located at different buses of a distribution grid. Customers participate in frequency regulation and experience energy prices that increase with the total demand. Charging decisions are coupled across time due to battery dynamics, as well as across network nodes due to competitive pricing and voltage regulation constraints. Maximizing the per-user economic benefit while maintaining voltage magnitudes within allowable limits is posed here as a network-constrained game. It is analytically shown that a generalized Nash equilibrium exists and can be expressed as the minimizer of a convex yet infinite-time horizon aggregate optimization problem. To obtain a practical solution, a Lyapunov optimization approach is adopted to design a real-time scheme offering feasible charging decisions with performance guarantees. The proposed method improves over the standard Lyapunov technique via a novel weighting of user costs. By judiciously exploiting the physical grid response, a distributed implementation of the real-time solver is also designed. The features of the novel algorithmic designs are validated using numerical tests on realistic datasets.