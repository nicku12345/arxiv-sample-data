We study a multi-dimensional optimal execution problem in illiquid markets with both instantaneous and persistent price impact and stochastic resilience. In our model the value function can be described by a multi-dimensional backward stochastic Riccati differential equations (BSRDE) with a singular terminal condition in one component. We prove the existence of a solution to the BSRDE system and characterise both the value function and the optimal strategy in terms of that solution. We prove that the solution to the liquidation problem can be approximated by the solutions to a sequence of unconstrained problems with increasing penalisation of open positions at the terminal time.