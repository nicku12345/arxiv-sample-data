Given a Brownian motion B_t and a general target law \mu (not necessarily centered or even integrable) we show how to construct an embedding of \mu in B. This embedding is an extension of an embedding due to Perkins, and is optimal in the sense that it simultaneously minimises the distribution of the maximum and maximises the distribution of the minimum among all embeddings of \mu. The embedding is then applied to regular diffusions, and used to characterise the target laws for which a H^p-embedding may be found.