We investigate the optimal stopping problems involving the supremum of a diffusion. The starting point is the link between works of Peskir and Meilijson, which we describe in a unified manner. The description developped follows mainly the work of Peskir and relies on the maximality principle which links the existence and form of the solution to an optimal stopping problem with a special solution of a certain differential equaiton. We also discuss the so-called optimal Skorokhod embedding problem and provide an explicit solution for a large class of measures.