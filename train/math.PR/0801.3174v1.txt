This work considers a server that processes J classes using the generalized processor sharing discipline with base weight vector \alpha=(\alpha _1,...,\alpha_J) and redistribution weight vector \beta=(\beta_1,...,\beta_J). The invariant manifold \mathcal{M} of the so-called fluid limit associated with this model is shown to have the form \mathcal{M}=\{x\in\mathbb{R}_+^J:x_j=0 for j\in\mathcal{S}\}, where \mathcal{S} is the set of strictly subcritical classes, which is identified explicitly in terms of the vectors \alpha and \beta and the long-run average work arrival rates \gamma_j of each class j. In addition, under general assumptions, it is shown that when the heavy traffic condition \sum_{j=1}^J\gamma_j=\sum_{j=1}^J\alpha_j holds, the functional central limit of the scaled unfinished work process is a reflected diffusion process that lies in \mathcal{M}. The reflected diffusion limit is characterized by the so-called extended Skorokhod map and may fail to be a semimartingale. This generalizes earlier results obtained for the simpler, balanced case where \gamma_j=\alpha_j for j=1,...,J, in which case \mathcal{M}=\mathbb{R}_+^J and there is no state-space collapse. Standard techniques for obtaining diffusion approximations cannot be applied in the unbalanced case due to the particular structure of the GPS model. Along the way, this work also establishes a comparison principle for solutions to the extended Skorokhod map associated with this model, which may be of independent interest.