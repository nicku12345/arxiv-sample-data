In this paper we establish the existence of a square integrable occupation density for two classes of stochastic processes. First we consider a Gaussian process with an absolutely continuous random drift, and secondly we handle the case of a (Skorohod) integral with respect to the fractional Brownian motion with Hurst parameter H>\frac 12. The proof of these results uses a general criterion for the existence of a square integrable local time, which is based on the techniques of Malliavin calculus.