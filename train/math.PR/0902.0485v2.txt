We consider a queuing model with the workload evolving between consecutive i.i.d. exponential timers \{e_q^{(i)}\}_{i=1,2,...} according to a spectrally positive L\'{e}vy process Y(t) which is reflected at 0. When the exponential clock e_q^{(i)} ends, the additional state-dependent service requirement modifies the workload so that the latter is equal to F_i(Y(e_q^{(i)})) at epoch e^{(1)}_q+...+e^{(i)}_q for some random nonnegative i.i.d. functionals F_i. In particular, we focus on the case when F_i(y)=(B_i-y)^+, where \{B_i\}_{i=1,2,...} are i.i.d. nonnegative random variables. We analyse the steady-state workload distribution for this model.