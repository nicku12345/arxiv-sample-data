We study the optimal portfolio liquidation problem over a finite horizon in a limit order book with bid-ask spread and temporary market price impact penalizing speedy execution trades. We use a continuous-time modeling framework, but in contrast with previous related papers (see e.g. [24] and [25]), we do not assume continuous-time trading strategies. We consider instead real trading that occur in discrete-time, and this is formulated as an impulse control problem under a solvency constraint, including the lag variable tracking the time interval between trades. A first important result of our paper is to show that nearly optimal execution strategies in this context lead actually to a finite number of trading times, and this holds true without assuming ad hoc any fixed transaction fee. Next, we derive the dynamic programming quasi-variational inequality satisfied by the value function in the sense of constrained viscosity solutions. We also introduce a family of value functions converging to our value function, and which is characterized as the unique constrained viscosity solutions of an approximation of our dynamic programming equation. This convergence result is useful for numerical purpose, postponed in a further study.