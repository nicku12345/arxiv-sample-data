A bubble is characterized by the presence of an underlying asset whose discounted price process is a strict local martingale under the pricing measure. In such markets, many standard results from option pricing theory do not hold, and in this paper we address some of these issues. In particular, we derive existence and uniqueness results for the Black--Scholes equation, and we provide convexity theory for option pricing and derive related ordering results with respect to volatility. We show that American options are convexity preserving, whereas European options preserve concavity for general payoffs and convexity only for bounded contracts.