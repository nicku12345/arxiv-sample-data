In shallow-water waveguides a propagating field can be decomposed over three kinds of modes: the propagating modes, the radiating modes and the evanescent modes. In this paper we consider the propagation of a wave in a randomly perturbed waveguide and we analyze the coupling between these three kinds of modes using an asymptotic analysis based on a separation of scales technique. Then, we derive the asymptotic form of the distribution of the mode amplitudes and the coupled power equation for propagating modes. From this equation, we show that the total energy carried by the propagating modes decreases exponentially with the size of the random section and we give an expression of the decay rate. Moreover, we show that the mean propagating mode powers converge to the solution of a diffusion equation in the high-frequency regime.