We study smoothness of densities for the solutions of SDEs whose coefficients are smooth and nondegenerate only on an open domain D. We prove that a smooth density exists on D and give upper bounds for this density. Under some additional conditions (mainly dealing with the growth of the coefficients and their derivatives), we formulate upper bounds that are suitable to obtain asymptotic estimates of the density for large values of the state variable ("tail" estimates). These results specify and extend some results by Kusuoka and Stroock [J. Fac. Sci. Univ. Tokyo Sect. IA Math. 32 (1985) 1--76], but our approach is substantially different and based on a technique to estimate the Fourier transform inspired from Fournier [Electron. J. Probab. 13 (2008) 135--156] and Bally [Integration by parts formula for locally smooth laws and applications to equations with jumps I (2007) The Royal Swedish Academy of Sciences]. This study is motivated by existing models for financial securities which rely on SDEs with non-Lipschitz coefficients. Indeed, we apply our results to a square root-type diffusion (CIR or CEV) with coefficients depending on the state variable, that is, a situation where standard techniques for density estimation based on Malliavin calculus do not apply. We establish the existence of a smooth density, for which we give exponential estimates and study the behavior at the origin (the singular point).