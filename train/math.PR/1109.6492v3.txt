This paper is devoted to the prediction problem in extreme value theory. Our main result is an explicit expression of the regular conditional distribution of a max-stable (or max-infinitely divisible) process \{\eta(t)\}_{t\in T} given observations \{\eta(t_i)=y_i,\ 1\leq i\leq k\}. Our starting point is the point process representation of max-infinitely divisible processes by Gin\'e, Hahn and Vatan (1990). We carefully analyze the structure of the underlying point process, introduce the notions of extremal function, sub-extremal function and hitting scenario associated to the constraints and derive the associated distributions. This allows us to explicit the conditional distribution as a mixture over all hitting scenarios compatible with the conditioning constraints. This formula extends a recent related result by Wang and Stoev (2011) dealing with the case of spectrally discrete max-stable random fields. We believe this work offers new tools and perspective for prediction in extreme value theory together with numerous potential applications.