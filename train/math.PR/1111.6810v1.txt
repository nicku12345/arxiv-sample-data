Consider the random walk S_n=\xi_1+...+\xi_n with independent and identically distributed increments and negative mean \mathbf E\xi=-m<0. Let M=\sup_{0\le i} S_i be the supremum of the random walk. In this note we present derivation of asymptotics for \mathbf P(M>x), x\to\infty for long-tailed distributions. This derivation is based on the martingale arguments and does not require any prior knowledge of the theory of long-tailed distributions. In addition the same approach allows to obtain asymptotics for \mathbf P(M_\tau>x), where M_\tau=\max_{0\le i<\tau}S_i and \tau=\min\{n\ge 1: S_n\le 0 \}.