This paper studies a {\it reversible} investment problem where a social planner aims to control its capacity production in order to fit optimally the random demand of a good. Our model allows for general diffusion dynamics on the demand as well as general cost functional. The resulting optimization problem leads to a degenerate two-dimensional bounded variation singular stochastic control problem, for which explicit solution is not available in general and the standard verification approach can not be applied a priori. We use a direct viscosity solutions approach for deriving some features of the optimal free boundary function, and for displaying the structure of the solution. In the quadratic cost case, we are able to prove a smooth-fit C^2 property, which gives rise to a full characterization of the optimal boundaries and value function.