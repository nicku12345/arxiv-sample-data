We consider random matrices whose entries are f(<Xi,Xj>) or f(||Xi-Xj||^2) for iid vectors Xi in R^p with normalized distribution. Assuming that f is sufficiently smooth and the distribution of Xi's is sufficiently nice, El Karoui [17] showed that the spectral distributions of these matrices behave as if f is linear in the Marchenko--Pastur limit. When Xi's are Gaussian vectors, variants of this phenomenon were recently proved for varying kernels, i.e. when f may depend on p, by Cheng and Singer [13]. Two results are shown in this paper: first it is shown that for a large class of distributions the regularity assumptions on f in El Karoui's results can be reduced to minimal; and secondly it is shown that the Gaussian assumptions in Cheng--Singer's result can be removed, answering a question posed in [13] about the universality of the limiting spectral distribution.