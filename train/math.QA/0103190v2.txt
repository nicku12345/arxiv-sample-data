We construct a family of rings. To a plane diagram of a tangle we associate a complex of bimodules over these rings. Chain homotopy equivalence class of this complex is an invariant of the tangle. On the level of Grothendieck groups this invariant descends to the Kauffman bracket of the tangle. When the tangle is a link, the invariant specializes to the bigraded cohomology theory introduced in our earlier work.