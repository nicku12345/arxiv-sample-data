We study Vassiliev invariants of links in a 3-manifold M by using chord diagrams labeled by elements of the fundamental group of M. We construct universal Vassiliev invariants of links in M, where M=P^2\times [0,1] is a cylinder over the real projective plane P^2, M=\Sigma\times [0,1] is a cylinder over a surface \Sigma with boundary, and M=S^1\times S^2. A finite covering p:N\longrightarrow M induces a map \pi_1(p)^* between labeled chord diagrams that corresponds to taking the preimage p^{-1}(L)\subset N of a link L\subset M. The maps p^{-1} and \pi_1(p)^* intertwine the constructed universal Vassiliev invariants.