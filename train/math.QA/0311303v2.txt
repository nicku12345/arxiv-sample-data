We give a formula for a cocycle generating the Hochschild cohomology of the Weyl algebra with coefficients in its dual.It is given by an integral over the configuration space of ordered points on a circle. Using this formula and a non-commutative version of formal geometry, we obtain an explicit expression for the canonical trace in deformation quantization of symplectic manifolds.