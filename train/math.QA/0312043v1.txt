The non-commutative geometry of deformation quantization appears in string theory through the effect of a B-field background on the dynamics of D-branes in the topological limit. For arbitrary backgrounds, associativity of the star product is lost, but only cyclicity is necessary for a description of the effective action in terms of a generalized product. In previous work we showed that this property indeed emerges for a non-associative product that we extracted from open string amplitudes in curved background fields. In the present note we extend our investigation through second order in a complete derivative expansion. We establish cyclicity with respect to the Born--Infeld measure and find a logarithmic correction that modifies the Kontsevich formula in an arbitrary background satisfying the generalized Maxwell equation. This equation is the physical equivalent of a divergence-free non-commutative parameter, which is required for cyclicity already in the associative case.