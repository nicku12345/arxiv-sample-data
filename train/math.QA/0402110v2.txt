We give a systematic derivation of the consistency conditions which constrain open-closed disk amplitudes of topological strings. They include the A-infinity relations (which generalize associativity of the boundary product of topological field theory), as well as certain homotopy versions of bulk-boundary crossing symmetry and Cardy constraint. We discuss integrability of amplitudes with respect to bulk and boundary deformations, and write down the analogs of WDVV equations for the space-time superpotential. We also study the structure of these equations from a string field theory point of view. As an application, we determine the effective superpotential for certain families of D-branes in B-twisted topological minimal models, as a function of both closed and open string moduli. This provides an exact description of tachyon condensation in such models, which allows one to determine the truncation of the open string spectrum in a simple manner.