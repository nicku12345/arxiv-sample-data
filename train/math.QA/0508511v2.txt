In this paper we complete the proof of the X=K conjecture, that for every family of nonexceptional affine algebras, the graded multiplicities of tensor products of symmetric power Kirillov-Reshetikhin modules known as one-dimensional sums, have a large rank stable limit X that has a simple expression (called the K-polynomial) as nonnegative integer combination of Kostka-Foulkes polynomials. We consider a subfamily of Lusztig's q-analogues of weight multiplicity which we call stable KL polynomials and denote by KL. We give a type-independent proof that K=KL. This proves that X=KL: the family of stable one-dimensional sums coincides with family of stable KL polynomials. Our result generalizes the theorem of Nakayashiki and Yamada which establishes the above equality in the case of one-dimensional sums of affine type A and the Lusztig q-analogue of type A, where both are Kostka-Foulkes polynomials.