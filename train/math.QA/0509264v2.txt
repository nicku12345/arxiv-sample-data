This is the sequel to my preprint "TCFTs and Calabi-Yau categories", math.QA/0412149. Here we extend the results of that paper to construct, for certain Calabi-Yau A-infinity categories, something playing the role of the Gromov-Witten potential. This is a state in the Fock space associated to periodic cyclic homology, which is a symplectic vector space. Applying this to a suitable A-infinity version of the derived category of sheaves on a Calabi-Yau yields the B model potential, at all genera.   The construction doesn't go via the Deligne-Mumford spaces, but instead uses the Batalin-Vilkovisky algebra constructed from the uncompactified moduli spaces of curves by Sen and Zwiebach. The fundamental class of Deligne-Mumford space is replaced here by a certain solution of the quantum master equation, essentially the "string vertices" of Zwiebach. On the field theory side, the BV operator has an interpretation as the quantised differential on the Fock space for periodic cyclic chains. Passing to homology, something satisfying the master equation yields an element of the Fock space.