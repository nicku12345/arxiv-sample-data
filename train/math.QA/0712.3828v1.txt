The space of generalized projective structures on a Riemann surface \Sigma of genus g with n marked points is the affine space over the cotangent bundle to the space of SL(N)-opers. It is a phase space of W_N-gravity on \Sigma\times\mathbb{R}.   This space is a generalization of the space of projective structures on the Riemann surface. We define the moduli space of W_N-gravity as a symplectic quotient with respect to the canonical action of a special class of Lie algebroids. This moduli space describes in particular the moduli space of deformations of complex structures on the Riemann surface by differential operators of finite order, or equivalently, by a quotient space of Volterra operators. We call these algebroids the Adler-Gelfand-Dikii (AGD) algebroids, because they are constructed by means of AGD bivector on the space of opers restricted on a circle. The AGD-algebroids are particular case of Lie algebroids related to a Poisson sigma-model. The moduli space of the generalized projective structure can be described by cohomology of a BRST-complex.