Let V be a rational, selfdual, C_2-cofinite vertex operator algebra of CFT type, and G a finite automorphism group of V. It is proved that the kernel of the representation of the modular group on twisted conformal blocks associated to V and G is a congruence subgroup. In particular, the q-character of each irreducible twisted module is a modular function on the same congruence subgroup. In the case V is the Frenkel-Lepowsky-Meurman's moonshine vertex operator algebra and G is the monster simple group, the generalized McKay-Thompson series associated to any commuting pair in the monster group is a modular function.