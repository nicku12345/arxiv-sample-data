We establish a natural connection of the q-Virasoro algebra D_{q} introduced by Belov and Chaltikian with affine Kac-Moody Lie algebras. More specifically, for each abelian group S together with a one-to-one linear character \chi, we define an infinite-dimensional Lie algebra D_{S} which reduces to D_{q} when S=\mathbb{Z}. Guided by the theory of equivariant quasi modules for vertex algebras, we introduce another Lie algebra {\mathfrak{g}}_{S} with S as an automorphism group and we prove that D_{S} is isomorphic to the S-covariant algebra of the affine Lie algebra \widehat{{\mathfrak{g}}_{S}}. We then relate restricted D_{S}-modules of level \ell\in \mathbb{C} to equivariant quasi modules for the vertex algebra V_{\widehat{\mathfrak{g}_{S}}}(\ell,0) associated to \widehat{{\mathfrak{g}}_{S}} with level \ell. Furthermore, we show that if S is a finite abelian group of order 2l+1, D_{S} is isomorphic to the affine Kac-Moody algebra of type B^{(1)}_{l}.