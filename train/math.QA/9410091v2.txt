Knizhnik-Zamolodchikov-Bernard equations for twisted conformal blocks on compact Riemann surfaces with marked points are written explicitly in a general projective structure in terms of correlation functions in the theory of twisted b-c systems. It is checked that on the moduli space the equations provide a flat connection with the spectral parameter.