Two references added and the introduction slightly expanded. We show that the tree-level part of a recent theory of invariants of 3-manifolds (due, independently, to Goussarov and Habiro) is essentially given by classical algebraic topology in terms of the Johnson homomorphism and Massey products, for arbitrary 3-manifolds. A key role of our proof is played by the notion of a homology cylinder, viewed as an enlargement of the mapping class group, and an apparently new Lie algebra of graphs colored by the first homology of a closed surface, closely related to deformation quantization on a surface as well as to a Lie algebra that encodes the symmetries of Massey products and the Johnson homomorphism. In addition, we present a realization theorem for Massey products and the Johnson homomorphism on homology cylinders.