We construct an analogue of Neumann's affiliated algebras for sofic group algebras over arbitrary fields. Consequently, we settle Kaplansky's direct finiteness conjecture for sofic groups.