Call a noncommutative rational function r regular if it has no singularities, i.e., r(X) is defined for all tuples of self-adjoint matrices X. In this article regular noncommutative rational functions r are characterized via the properties of their (minimal size) linear systems realizations r=c^* L^{-1}b. It is shown that r is regular if and only if L=A_0+\sum_jA_j x_j is privileged. Roughly speaking, a linear pencil L is privileged if, after a finite sequence of basis changes and restrictions, the real part of A_0 is positive definite and the other A_j are skew-adjoint. The second main result is a solution to a noncommutative version of Hilbert's 17th problem: a positive regular noncommutative rational function is a sum of squares.