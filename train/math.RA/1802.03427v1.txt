We show that a structural matrix algebra A is isomorphic to the endomorphism algebra of an algebraic-combinatorial object called a generalized flag. If the flag is equipped with a group grading, an algebra grading is induced on A. We classify the gradings obtained in this way as the orbits of the action of a double semidirect product on a certain set. Under some conditions on the associated graph, all good gradings on A are of this type. As a bi-product, we obtain a new approach to compute the automorphism group of a structural matrix algebra.