Let E be a finite directed graph, and let I be the poset obtained as the antisymmetrization of its set of vertices with respect to a pre-order \le that satisfies v\le w whenever there exists a directed path from w to v. Assuming that I is a tree, we define a poset of fields over I as a family \mathbf K = \{ K_i :i\in I \} of fields K_i such that K_i\subseteq K_j if j\le i. We define the concepts of a Leavitt path algebra L_{\mathbf K} (E) and a regular algebra Q_{\mathbf K}(E) over the poset of fields \mathbf K, and we show that Q_{\mathbf K}(E) is a hereditary von Neumann regular ring, and that its monoid \mathcal V (Q_{\mathbf K}(E)) of isomorphism classes of finitely generated projective modules is canonically isomorphic to the graph monoid M(E) of E.