We prove a conjecture of Pirashvili, which says that a non-trivial finite-dimensional complex Lie algebra is semisimple if and only if its Leibniz (co)homology with trivial coefficients vanishes. We also prove several results on the Lie and Leibniz cohomology of perfect and complete Lie algebras.