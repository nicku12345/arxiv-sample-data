Inspired by recent activities on Whittaker modules over various (Lie) algebras we describe some general framework for the study of Lie algebra modules locally finite over a subalgebra. As a special case we obtain a very general setup for the study of Whittaker modules, which includes, in particular, Lie algebras with triangular decomposition and simple Lie algebras of Cartan type. We describe some basic properties of Whittaker modules, including a block decomposition of the category of Whittaker modules and certain properties of simple Whittaker modules under some rather mild assumptions. We establish a connection between our general setup and the general setup of Harish-Chandra subalgebras in the sense of Drozd, Futorny and Ovsienko. For Lie algebras with triangular decomposition we construct a family of simple Whittaker modules (roughly depending on the choice of a pair of weights in the dual of the Cartan subalgebra), describe their annihilators and formulate several classification conjectures. In particular, we construct some new simple Whittaker modules for the Virasoro algebra. Finally, we construct a series of simple Whittaker modules for the Lie algebra of derivations of the polynomial algebra, and consider several finite dimensional examples, where we study the category of Whittaker modules over solvable Lie algebras and their relation to Koszul algebras.