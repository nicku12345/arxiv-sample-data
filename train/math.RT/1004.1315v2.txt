Let F be a p-adic field, and G_n one of the groups GL(n,F), GSO(2n-1,F), GSp(2n,F), or GSO(2(n-1),F). Using the mirabolic subgroup or analogues of it, and related "derivative" functors, we give an asymptotic expansion of functions in the Whittaker model of generic representations of G_n, with respect to a minimal set of characters of subgroups of the maximal torus. Denoting by Z_n the center of G_n, and by N_n the unipotent radical of its standard Borel subgroup, we characterize generic representations occurring in L^2(Z_nN_n\backslash G_n) in terms of these characters. This is related to a conjecture of Lapid and Mao for general split groups, asserting that the generic representations occurring in L^2(Z_nN_n\backslash G_n) are the generic discrete series; we prove it for the group G_n.