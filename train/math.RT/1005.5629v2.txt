Let F be a p-adic field, and Gn one of the groups GL(n, F), GSO(2n-1, F), GSp(2n, F), or GSO(2(n - 1), F). Using the mirabolic subgroup or analogues of it, and related "derivative" functors, we give an asymptotic expansion of functions in the Whittaker model of generic representations of Gn, with respect to a minimal set of characters of subgroups of the maximal torus. Denoting by Zn the center of Gn, and by Nn the unipotent radical of its standard Borel subgroup, we characterize generic representations occurring in L2(ZnNn\Gn) in terms of these characters. This is related to a conjecture of Lapid and Mao for general split groups, asserting that the generic representations occurring in L2(ZnNn\Gn) are the generic discrete series; we prove it for the group Gn.