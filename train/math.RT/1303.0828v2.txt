Let G be a reductive p-adic group. We study how a local Langlands correspondence for irreducible tempered G-representations can be extended to a local Langlands correspondence for all irreducible smooth representations of G. We prove that, under a natural condition involving compatibility with unramified twists, this is possible in a canonical way.   To this end we introduce analytic R-groups associated to non-tempered essentially square-integrable representations of Levi subgroups of G. We establish the basic properties of these new R-groups, which generalize Knapp--Stein R-groups.