In this article we consider the general definition of Lustig sheaves for arbitrary quivers, possibly carrying loops. We answer a conjecture raised by Lusztig asking if the more "simple" Lusztig perverse sheaves are enough to span the whole Grothendieck group usually built with these sheaves. Our proof is based on induction, with the help of restriction and induction functors, but with non trivial first steps, consisting in the study of quivers with one vertex but possible loops. We also need to consider regularity conditions on the support of our perverse sheaves to perform efficient restrictions at imaginary vertices. From our proof emerges a new combinatorial structure on our generalized canonical basis, which is more general than the usual crystals, in that there are now more operators associated to a vertex with loops. In a second part, we construct and study a Hopf algebra which generalizes the usual quantum groups. The geometric study previously made leads to a natural definition, which includes countably infinite sets of generators at imaginary roots, with higher order Serre relations and commutativity conditions imposed by the Jordan quiver case. We finally prove that the positive part of this algebra is isomorphic to our Grothendieck group, thanks to the study of a nondegenerate Hopf pairing.