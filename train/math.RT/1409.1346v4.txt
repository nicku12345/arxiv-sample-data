We give a general definition of classical and quantum groups whose representation theory is "determined by partitions" and study their structure. This encompasses many examples of classical groups for which Schur-Weyl duality is described with diagram algebras as well as generalizations of P. Deligne's interpolated categories of representations. Our setting is inspired by many previous works on easy quantum groups and appears to be well-suited to the study of free fusion semirings. We classify free fusion semirings and prove that they can always be realized through our construction, thus solving several open questions. This suggests a general decomposition result for free quantum groups which in turn gives information on the compact groups whose Schur-Weyl duality is implemented by partitions. The paper also contains an appendix by A. Chirvasitu proving simplicity results for the reduced C*-algebras of some free quantum groups.