Let H be a Hecke algebra arising as an endomorphism algebra of the representation of a Chevalley group G over F_q induced by a unipotent cuspidal representation of a Levi quotient L of a parabolic subgroup. We assume that L is not a torus. In this paper we outline a geometric interpretation of the coefficients of the canonical basis of H in terms of perverse sheaves. We illustrate this in detail in the case where the Weyl group of G is of type B_4 and that of L is of type B_2.