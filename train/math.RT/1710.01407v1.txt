The earlier work of the first and the third named authors introduced the algebra \mathbb{A}_{q,t} and its polynomial representation. In this paper we construct an action of this algebra on the equivariant K-theory of certain smooth strata in the flag Hilbert schemes of points on the plane. In this presentation, the fixed points of torus action correspond to generalized Macdonald polynomials and the the matrix elements of the operators have explicit combinatorial presentation.