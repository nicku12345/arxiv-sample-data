We study a correction factor for Kac-Moody root systems which arises in the theory of p-adic Kac-Moody groups. In affine type, this factor is known, and its explicit computation is the content of the Macdonald constant term conjecture. The data of the correction factor can be encoded as a collection of polynomials m_\lambda \in \mathbb{Z}[t] indexed by positive imaginary roots \lambda. At t=0 these polynomials evaluate to the root multiplicities, so we consider m_\lambda to be a t-deformation of \mathrm{mult} (\lambda). We generalize the Peterson algorithm and the Berman-Moody formula for root multiplicities to compute m_\lambda. As a consequence we deduce fundamental properties of m_\lambda.