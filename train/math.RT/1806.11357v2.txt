Let G be a connected reductive group over a non-archimedean local field K, and assume that G splits over an unramified extension of K. We establish a local Langlands correspondence for irreducible unipotent representations of G. It comes as a bijection between the set of such representations and the collection of enhanced L-parameters for G, which are trivial on the inertia subgroup of the Weil group of K. We show that this correspondence has many of the expected properties, for instance with respect to central characters, tempered representations, the discrete series, cuspidality and parabolic induction.   The core of our strategy is the investigation of affine Hecke algebras on both sides of the local Langlands correspondence. When a Bernstein component of G-representations is matched with a Bernstein component of enhanced L-parameters, we prove a comparison theorem for the two associated affine Hecke algebras.   This generalizes work of Lusztig in the case of adjoint K-groups.