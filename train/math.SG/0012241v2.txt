In this version referee's comments have been incorporated. Besides minor corrections, new material has been added on irrational markings. To appear in Ann. Inst. Fourier.   We prove a condition for the existence of flat bundles on the punctured two-sphere with prescribed holonomies around the punctures, involving Gromov-Witten invariants of generalized flag varieties. This generalizes the case of special unitary bundles described by S. Agnihotri and the second author and independently P. Belkale.