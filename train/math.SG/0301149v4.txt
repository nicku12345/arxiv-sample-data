We use the knot filtration on the Heegaard Floer complex to define an integer invariant tau(K) for knots. Like the classical signature, this invariant gives a homomorphism from the knot concordance group to Z. As such, it gives lower bounds for the slice genus (and hence also the unknotting number) of a knot; but unlike the signature, tau gives sharp bounds on the four-ball genera of torus knots. As another illustration, we calculate the invariant for several ten-crossing knots.