Long ago, in math.AG/0112004, we pledged more details on the algebraic version of Chen-Ruan's math.AG/0103156. This is it.