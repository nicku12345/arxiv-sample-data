We study Hamiltonian spaces associated with pairs (E,A), where E is a Courant algebroid and A\subset E is a Dirac structure. These spaces are defined in terms of morphisms of Courant algebroids with suitable compatibility conditions. Several of their properties are discussed, including a reduction procedure. This set-up encompasses familiar moment map theories, such as group-valued moment maps, and it provides an intrinsic approach from which different geometrical descriptions of moment maps can be naturally derived. As an application, we discuss the relationship between quasi-Poisson and presymplectic groupoids.