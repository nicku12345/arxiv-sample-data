We give a combinatorial description of the Legendrian differential graded algebra associated to a Legendrian knot in PxR, where P is a punctured Riemann surface. As an application we show that for any integer k and any homology class h in H_1(PxR) there are k Legendrian knots all representing h which are pairwise smoothly isotopic through a formal Legendrian isotopy but which lie in mutually distinct Legendrian isotopy classes.