For every compact almost complex manifold (M,J) equipped with a J-preserving circle action with isolated fixed points, a simple algebraic identity involving the first Chern class is derived. This enables us to construct an algorithm to obtain linear relations among the isotropy weights at the fixed points. Suppose that M is symplectic and the action is Hamiltonian. If the manifold satisfies an extra "positivity condition" this algorithm determines a family of vector spaces which contain the admissible lattices of weights.   When the number of fixed points is minimal, this positivity condition is necessarily satisfied whenever dim(M)< 8, and, when dim(M)=8, whenever the S^1-action extends to an effective Hamiltonian T^2-action, or none of the isotropy weights is 1. Moreover there are no known examples with a minimal number of fixed points contradicting this condition, and their existence is related to interesting questions regarding fake projective spaces [Y]. We run the algorithm for dim(M)< 10, quickly obtaining all the possible families of isotropy weights. In particular, we simplify the proofs of Ahara and Tolman for dim(M)=6 [Ah,T1] and, when dim(M)=8, we prove that the equivariant cohomology ring, Chern classes and isotropy weights agree with the ones of C P^4 with the standard S^1-action (thus proving the symplectic Petrie conjecture [T1] in this setting).