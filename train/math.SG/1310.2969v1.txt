Any smooth, closed oriented 4-manifold has a surface diagram of arbitrarily high genus g>2 that specifies it up to diffeomorphism. The goal of this paper is to prove the following statement: For any smooth, closed oriented 4-manifold M, there is a sequence of weak A-infinity algebras indexed by g, and the homotopy equivalence class of each entry of this sequence is a diffeomorphism invariant of M.