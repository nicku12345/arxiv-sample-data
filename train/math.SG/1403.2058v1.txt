Aubry-Mather is traditionally concerned with Tonelli Hamiltonian (convex and super-linear). In \cite{Vi,MVZ}, Mather's \alpha function is recovered from the homogenization of symplectic capacities. This allows the authors to extend the Mather functional to non convex cases. This article shows that the relation between invariant measures and the subdifferential of Mather's functional (which is the foundational statement of Mather) is preserved in the non convex case.   We give applications in the context of the classical KAM theory to the existence of invariant measures with large rotation vector after the possible disappearance of some KAM tori.