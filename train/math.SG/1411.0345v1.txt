Let K \subset G be compact connected Lie groups with common maximal torus T. Let (M, \omega) be a prequantisable compact connected symplectic manifold with a Hamiltonian G-action. Geometric quantisation gives a virtual representation of G; we give a formula for the character \chi of this virtual representation as a quotient of virtual characters of K. When M is a generic coadjoint orbit our formula agrees with the Gross-Kostant-Ramond-Sternberg formula. We then derive a generalisation of the Guillemin-Prato multiplicity formula which, for \lambda a dominant integral weight of K, gives the multiplicity in \chi of the irreducible representation of K of highest weight \lambda.