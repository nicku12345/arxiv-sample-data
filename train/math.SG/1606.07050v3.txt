We construct an enhanced version of knot contact homology, and show that we can deduce from it the group ring of the knot group together with the peripheral subgroup. In particular, it completely determines a knot up to smooth isotopy. The enhancement consists of the (fully noncommutative) Legendrian contact homology associated to the union of the conormal torus of the knot and a disjoint cotangent fiber sphere, along with a product on a filtered part of this homology. As a corollary, we obtain a new, holomorphic-curve proof of a result of the third author that the Legendrian isotopy class of the conormal torus is a complete knot invariant.