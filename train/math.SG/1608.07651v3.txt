We prove three fundamental properties of counting holomorphic cylinders in log Calabi-Yau surfaces: positivity, integrality and the gluing formula. Positivity and integrality assert that the numbers of cylinders, defined via virtual techniques, are in fact nonnegative integers. The gluing formula roughly says that cylinders can be glued together to form longer cylinders, and the number of longer cylinders equals the product of the numbers of shorter cylinders. Our approach uses Berkovich geometry, tropical geometry, deformation theory and the ideas in the proof of associativity relations of Gromov-Witten invariants by Maxim Kontsevich. These three properties provide an evidence for a conjectural relation between counting cylinders and the broken lines of Gross-Hacking-Keel.