Given a 4-manifold \hat{M} and two homeomorphic surfaces \Sigma_1, \Sigma_2 smoothly embedded in \hat{M} with genus more than 1, we remove the neighborhoods of the surfaces and obtain a new 4-manifold M from gluing two boundaries S^1 \times \Sigma_1 and S^1 \times \Sigma_1. In this artice, we prove a gluing formula which describes the relation of the Seiberg-Witten invariants of M and \hat{M}. Moreover, we show the application of the formula on the existence condition of the symplectic structure on a family of 4-manfolds under some conditions.