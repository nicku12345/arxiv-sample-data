We study Harper operators and the closely related discrete magnetic Laplacians (DML) on a graph with a free action of a discrete group, as defined by Sunada. The spectral density function of the DML is defined using the von Neumann trace associated with the free action of a discrete group on a graph. The main result in this paper states that when the group is amenable, the spectral density function is equal to the integrated density of states of the DML that is defined using either Dirichlet or Neumann boundary conditions. This establishes the main conjecture in a paper by Mathai and Yates. The result is generalized to other self adjoint operators with finite propagation.