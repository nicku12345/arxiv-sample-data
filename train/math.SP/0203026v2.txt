We study spectral properties of random operators in the general setting of groupoids and von Neumann algebras. In particular, we establish an explicit formula for the canonical trace of the von Neumann algebra of random operators and define an abstract density of states.   The general setting applies to many examples studied before while we lay special emphasis on a new one: random Schr\"odinger operators on manifolds. In this case, we show that the distribution function of the abstract density of states coincides with the integrated density of states defined via an exhaustion procedure.   The presentation is as explicit as possible, yet abstract enough to cover many examples studied so far. We extract parts of Connes' noncommutative integration theory, present them in a self contained manner and use them in our proofs. By reason of illustration, we parallely give more direct proofs for our main example, whenever possible.   (The second version contains a detailed discussion of the application of the abstract results to Hamiltonians associated to tilings and percolation graphs.