In this article we establish new improvements of the optimal Hardy inequality in the half space. We first add all possible linear combinations of Hardy type terms thus revealing the structure of this type of inequalities and obtaining best constants. We then add the critical Sobolev term and obtain necessary and sufficient conditions for the validity of Hardy-Sobolev-Maz'ya type inequalities.