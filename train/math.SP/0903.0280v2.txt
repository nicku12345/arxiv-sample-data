This paper is concerned with emptyness of the essential spectrum, or equivalently compactness of the semigroup, for perturbations of selfadjoint operators that are bounded below (on an L^2-space).   For perturbations by a (nonnegative) potential we obtain a simple criterion for compactness of the semigroup in terms of relative compactness of the operators of multiplication with characteristic functions of sublevel sets. In the context of Dirichlet forms, we can even characterize compactness of the semigroup for measure perturbations. Here, certain 'averages' of the measure outside of compact sets play a role.   As an application we obtain compactness of semigroups for Schr\"odinger operators with potentials whose sublevel sets are thin at infinity.