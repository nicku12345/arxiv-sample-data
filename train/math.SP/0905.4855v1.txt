We prove that if f is a Lipschitz function on \R, A and B are self-adjoint operators such that {\rm rank} (A-B)=1, then f(A)-f(B) belongs to the weak space \boldsymbol{S}_{1,\be}, i.e., s_j(A-B)\le{\rm const} (1+j)^{-1}. We deduce from this result that if A-B belongs to the trace class \boldsymbol{S}_1 and f is Lipschitz, then f(A)-f(B)\in\boldsymbol{S}_\Omega, i.e., \sum_{j=0}^ns_j(f(A)-f(B))\le\const\log(2+n). We also obtain more general results about the behavior of double operator integrals of the form Q=\iint(f(x)-f(y))(x-y)^{-1}dE_1(x)TdE_2(y), where E_1 and E_2 are spectral measures. We show that if T\in\boldsymbol{S}_1, then Q\in\boldsymbol{S}_\Omega and if \rank T=1, then Q\in\boldsymbol{S}_{1,\be}. Finally, if T belongs to the Matsaev ideal \boldsymbol{S}_\omega, then Q is a compact operator.