We discuss the detectable subspaces of an operator. We analyse the relation between the M-function (the abstract Dirichlet to Neumann map) and the resolvent bordered by projections onto the detectable subspaces. The abstract results are explored further by an extensive study of the Friedrichs model, together with illustrative applications to the Schroedinger and Hain-Luest-type models.