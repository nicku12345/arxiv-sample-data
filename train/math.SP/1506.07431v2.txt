The Maslov index is used to compute the spectra of different boundary value problems for Schr\"{o}dinger operators on compact manifolds. The main result is a spectral decomposition formula for a manifold M divided into components \Omega_1 and \Omega_2 by a separating hypersurface \Sigma. A homotopy argument relates the spectrum of a second-order elliptic operator on M to its Dirichlet and Neumann spectra on \Omega_1 and \Omega_2, with the difference given by the Maslov index of a path of Lagrangian subspaces. This Maslov index can be expressed in terms of the Morse indices of the Dirichlet-to-Neumann maps on \Sigma. Applications are given to doubling constructions, periodic boundary conditions and the counting of nodal domains. In particular, a new proof of Courant's nodal domain theorem is given, with an explicit formula for the nodal deficiency.