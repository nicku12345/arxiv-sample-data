The inverse spectral problem is studied for the Sturm-Liouville operator with a complex-valued potential and arbitrary entire functions in one of the boundary conditions. We obtain necessary and sufficient conditions for uniqueness, and develop a constructive algorithm for the inverse problem solution. The main results are applied to the Hochstadt-Lieberman half-inverse problem. As an auxiliary proposition, we prove local solvability and stability for the inverse Sturm-Liouville problem by the Cauchy data in the non-self-adjoint case.