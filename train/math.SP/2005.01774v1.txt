Persson's formula expresses the infimum of the essential spectrum of a suitable self-adjoint Schr\"odinger operator in R^n in terms of the lower spectral points of a family of restrictions of the operator to complements of relatively compact subsets. It has been extended to other situations. We present an approach based on C^*-algebras associated to \'etale groupoids. In such a setting there are intrinsic versions, referring to self-adjoint elements of the groupoid C^*-algebras. When representations in Hilbert spaces are considered, the results not always involve only the essential spectrum. The range of applications is quite distinct from the traditional one. We indicate examples related to symbolic dynamics and band dominated operators on discrete metric spaces. The treatment needs only a small amout of symmetry. Even when group actions are involved, restrictions to non-invariant subsets are needed and have to be treated carefully.