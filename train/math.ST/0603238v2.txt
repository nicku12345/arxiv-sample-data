A unified family of goodness-of-fit tests based on \phi-divergences is introduced and studied. The new family of test statistics S_n(s) includes both the supremum version of the Anderson--Darling statistic and the test statistic of Berk and Jones [Z. Wahrsch. Verw. Gebiete 47 (1979) 47--59] as special cases (s=2 and s=1, resp.). We also introduce integral versions of the new statistics. We show that the asymptotic null distribution theory of Berk and Jones [Z. Wahrsch. Verw. Gebiete 47 (1979) 47--59] and Wellner and Koltchinskii [High Dimensional Probability III (2003) 321--332. Birkh\"{a}user, Basel] for the Berk--Jones statistic applies to the whole family of statistics S_n(s) with s\in[-1,2]. On the side of power behavior, we study the test statistics under fixed alternatives and give extensions of the ``Poisson boundary'' phenomena noted by Berk and Jones for their statistic. We also extend the results of Donoho and Jin [Ann. Statist. 32 (2004) 962--994] by showing that all our new tests for s\in[-1,2] have the same ``optimal detection boundary'' for normal shift mixture alternatives as Tukey's ``higher-criticism'' statistic and the Berk--Jones statistic.