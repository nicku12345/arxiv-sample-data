Consider a random vector (X,Y) and let m(x)=E(Y|X=x). We are interested in testing H_0:m\in {\cal M}_{\Theta,{\cal G}}=\{\gamma(\cdot,\theta,g):\theta \in \Theta,g\in {\cal G}\} for some known function \gamma, some compact set \Theta \subset IR^p and some function set {\cal G} of real valued functions. Specific examples of this general hypothesis include testing for a parametric regression model, a generalized linear model, a partial linear model, a single index model, but also the selection of explanatory variables can be considered as a special case of this hypothesis. To test this null hypothesis, we make use of the so-called marked empirical process introduced by \citeD and studied by \citeSt for the particular case of parametric regression, in combination with the modern technique of empirical likelihood theory in order to obtain a powerful testing procedure. The asymptotic validity of the proposed test is established, and its finite sample performance is compared with other existing tests by means of a simulation study.