This paper studies the residual empirical process of long- and short-memory time series regression models and establishes its uniform expansion under a general framework. The results are applied to the stochastic regression models and unstable autoregressive models. For the long-memory noise, it is shown that the limit distribution of the Kolmogorov-Smirnov test statistic studied in Ho and Hsing [Ann. Statist. 24 (1996) 992-1024] does not hold when the stochastic regression model includes an unknown intercept or when the characteristic polynomial of the unstable autoregressive model has a unit root. To this end, two new statistics are proposed to test for the distribution of the long-memory noises of stochastic regression models and unstable autoregressive models. (With Correction.)