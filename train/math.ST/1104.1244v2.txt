In this paper we consider the trace regression model. Assume that we observe a small set of entries or linear combinations of entries of an unknown matrix A_0 corrupted by noise. We propose a new rank penalized estimator of A_0. For this estimator we establish general oracle inequality for the prediction error both in probability and in expectation. We also prove upper bounds for the rank of our estimator. Then, we apply our general results to the problems of matrix completion and matrix regression. In these cases our estimator has a particularly simple form: it is obtained by hard thresholding of the singular values of a matrix constructed from the observations.