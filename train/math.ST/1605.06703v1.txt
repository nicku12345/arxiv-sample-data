Counting processes often written N=(N_t)_{t\in\mathbb{R}^+} are used in several applications of biostatistics, notably for the study of chronic diseases. In the case of respiratory illness it is natural to suppose that the count of the visits of a patient can be described by such a process which intensity depends on environmental covariates. Cox processes (also called doubly stochastic Poisson processes) allows to model such situations. The random intensity then writes \lambda(t)=\theta(t,Z_t) where \theta is a non-random function, t\in\mathbb{R}^+ is the time variable and (Z_t)_{t\in\mathbb{R}^+} is the d-dimensional covariates process. For a longitudinal study over n patients, we observe (N_t^k,Z_t^k)_{t\in\mathbb{R}^+} for k=1,\ldots,n. The intention is to estimate the intensity of the process using these observations and to study the properties of this estimator.